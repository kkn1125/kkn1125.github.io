---
slug: "/hmac01/"
layout: post
modified: 2023-04-08 16:57:33 +0000
date: 2023-03-11 19:17:15 +0000
title: "[HMAC] HMAC SHA-256ì„ ì•Œì•„ë³´ì"
author: Kimson
categories: [javascript]
image: /images/post/covers/TIL-javascript.png
tags: [javascript, hmac, sha256, token]
description: "HMACì´ë€

HMACì€ Hash-based Message Authentication Codeì˜ ì•½ìì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ë’¤ì— ë¶™ëŠ” SHA-256ì€ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ë¡œ HMAC SHA256ì´ë¼ í•˜ë©´ HMACì„ SHA 256ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¡°í•©í•˜ì—¬ í•´ì‹œì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.

HMACì˜ ì›ë¦¬ë¥¼ ë‹¨ìˆœíˆ ì´ì•¼ê¸°í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ë‹¨ì— ë™ì¼í•œ ì‹œí¬ë¦¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë©”ì„¸ì§€ + ì‹œí¬ë¦¿ í‚¤ë¥¼ ì„œë²„ë¡œ ë³´ë‚´ì–´ ì„œë²„ì—ì„œ ë©”ì„¸ì§€ + ì‹œí¬ë¦¿ í‚¤ë¡œ í•´ì‹œ ê°’ì„ ë§Œë“¤ì–´ ëŒ€ì¡°í•˜ëŠ” ëŒ€ì¹­í‚¤ ë°©ì‹ì…ë‹ˆë‹¤.

HMAC SHA256 ì‚¬ìš©

ê°œë°œ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. fastify
2. typescript
3. node 18.11.0
4. npm 9.5.1

ì„¤ëª… ê¸°ì¤€ì€ ì œê°€ í˜„ì¬ ì‚¬ìš©í•˜ëŠ” javascriptê°€ ë  ê²ƒ ì…ë‹ˆë‹¤. ì•„ë˜ëŠ” ê°œë°œ í™˜ê²½ì— ëŒ€í•œ ì •ë³´ì…ë‹ˆë‹¤. fastifyë¡œ apiì„œë²„ë¥¼ êµ¬ì¶•í–ˆë‹¤ëŠ” ê°€ì • í•˜ì— ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤. (ë¬´ì—‡ì„ ì‚¬ìš©í•˜ë˜ ë³„ ìƒê´€ì€ ì—†ìŠµë‹ˆë‹¤.)"
featured: true
hidden: false
rating: 4.5
toc: true
profile: false
istop: true
keysum: false
keywords: ""
published: true
---

# HMACì´ë€?

HMACì€ `Hash-based Message Authentication Code`ì˜ ì•½ìì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ë’¤ì— ë¶™ëŠ” `SHA-256`ì€ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ë¡œ `HMAC-SHA256`ì´ë¼ í•˜ë©´ HMACì„ `SHA-256`ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¡°í•©í•˜ì—¬ í•´ì‹œì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.

HMACì˜ ì›ë¦¬ë¥¼ ë‹¨ìˆœíˆ ì´ì•¼ê¸°í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ë‹¨ì— ë™ì¼í•œ `ì‹œí¬ë¦¿ í‚¤`ë¥¼ ì‚¬ìš©í•˜ë©°, í´ë¼ì´ì–¸íŠ¸ì—ì„œ `ë©”ì„¸ì§€` + `ì‹œí¬ë¦¿ í‚¤`ë¥¼ ì„œë²„ë¡œ ë³´ë‚´ì–´ ì„œë²„ì—ì„œ ë©”ì„¸ì§€ + `ì‹œí¬ë¦¿ í‚¤`ë¡œ í•´ì‹œ ê°’ì„ ë§Œë“¤ì–´ ëŒ€ì¡°í•˜ëŠ” `ëŒ€ì¹­í‚¤ ë°©ì‹`ì…ë‹ˆë‹¤. í•„ìëŠ” ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ì¶”ê°€í•˜ì—¬ ì‹œí¬ë¦¿í‚¤ì™€ í•¨ê»˜ ë‘ ê°€ì§€ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œë¥¼ ì‘ì„±í•´ì„œ ì´ì•¼ê¸°ë¥¼ ì´ì–´ë‚˜ê°ˆ ì˜ˆì •ì…ë‹ˆë‹¤.

## ê°œë°œ í™˜ê²½

> ê°œë°œ í™˜ê²½ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.
>
> 1. Ubuntu:22.04
> 2. fastify
> 3. typescript
> 4. node 18.11.0
> 5. npm 9.5.1
> 6. CryptoJS

ì„¤ëª… ê¸°ì¤€ì€ ì œê°€ í˜„ì¬ ì‚¬ìš©í•˜ëŠ” `javascript`ê°€ ë  ê²ƒ ì…ë‹ˆë‹¤. ì•„ë˜ëŠ” ê°œë°œ í™˜ê²½ì— ëŒ€í•œ ì •ë³´ì…ë‹ˆë‹¤. `fastify`ë¡œ `apiì„œë²„`ë¥¼ êµ¬ì¶•í–ˆë‹¤ëŠ” ê°€ì • í•˜ì— ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤. (ë¬´ì—‡ì„ ì‚¬ìš©í•˜ë˜ ë³„ ìƒê´€ì€ ì—†ìŠµë‹ˆë‹¤.)

## HMAC SHA256 ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë³´ì

Secret keyë¥¼ ìƒì„±í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œëŠ” ë‹¨ìˆœí•´ë„ ë¬´ê´€í•˜ì§€ë§Œ ì‹¤ì œ ì„œë¹„ìŠ¤ì— ì‚¬ìš©ë  Secret keyëŠ” ì ˆëŒ€ë¡œ ë…¸ì¶œë˜ì–´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤. ë§ë¡œ ì§§ê²Œ ì„¤ëª…í•œ ì›ë¦¬ê°€ ì „ë¶€ì´ê¸° ë•Œë¬¸ì— ì†ŒìŠ¤ì½”ë“œë¡œ ë³´ë©´ì„œ ì™„ì„±ì‹œì¼œ ë‚˜ê°€ë´…ì‹œë‹¤.

```typescript
const accessKey = "MY_ACCESS_KEY"; // ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ì ì—ˆì§€ë§Œ envë¥¼ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
const secretKey = "MY_SUPER_SECRET_KEY"; // ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ì ì—ˆì§€ë§Œ envë¥¼ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

class HashGenerator {
  // í•„ìëŠ” í¸ì˜ë¥¼ ìœ„í•´ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

  getTimestamp() {
    const isoString = Date.now().toISOString();
    return isoString.slice(0, 19);
  }

  createHash() {
    const timestampString = this.getTimestamp();
    const encodedSecretKey = encodeURI(secretKey);
    const encodedAccessKeyTimeStampString =
      encodeURI(accessKey) + "|" + timeStampString;
    const signature = CryptoJS.HmacSHA256(
      encodedAccessKeyTimeStampString,
      encodedSecretKey
    ).toString(CryptoJS.enc.Hex);
    const HMAC_SHA256_KEY =
      "HMAC-SHA256 " + signature + "|" + accessKey + "|" + timestampString;

    return HMAC_SHA256_KEY;
  }
}
```

ìœ„ì—ì„œ ì§  ì½”ë“œë¥¼ ë³´ë©´ ì‹œê·¸ë‹ˆì²˜ë¥¼ ë§Œë“¤ê³  ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì‹œê·¸ë‹ˆì²˜ì™€ ì•¡ì„¸ìŠ¤í‚¤, ë§ˆì§€ë§‰ìœ¼ë¡œ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¡°í•©í•©ë‹ˆë‹¤. ë§Œë“œëŠ” ë°©ì‹ì€ ì €ë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ë§Œë“¤ìë©´ ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤. ì‹œê·¸ë‹ˆì²˜ì˜ êµ¬ì„±ì€ ì•¡ì„¸ìŠ¤í‚¤ì™€ ì‹œê°„ì„ ì¡°í•©í•œ í˜•íƒœì´ê³  `hex`ë¡œ ë„ì¶œí•œ ê°’ì…ë‹ˆë‹¤.

ì´ì œ í•´ì‹œ ê°’ì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ê²€ì¦ì„ í•´ì•¼í•©ë‹ˆë‹¤. ì œëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ëª¨ë¥´ì§€ë§Œ ê²€ì¦ ë°©ë²•ì„ ìƒê°í•´ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ì€ ê°€ì •ì„ ë‘ê³  ì •ë¦¬í•´ë‚˜ê°€ê² ìŠµë‹ˆë‹¤.

1. 15ë¶„ ë§Œë£Œ ê¸°ê°„
2. ì‹œê·¸ë‹ˆì²˜ ê²€ì¦
3. ë§Œë£Œê¸°ê°„ ê²€ì¦
4. ì•¡ì„¸ìŠ¤ í‚¤ ê²€ì¦
5. ì‹œí¬ë¦¿ í‚¤ ê²€ì¦

`createHash` ë©”ì„œë“œ ë‚´ë¶€ì— ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ë³€ê²½í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸í•˜ë©´ ë³´ì´ëŠ”ê²Œ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ í•´ì‹œ ê°’ì€ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í˜„ì¬ ì‹œê°„ ê°’ì— ì˜í•´ ëœë¤í•˜ê²Œ ì¶œë ¥ëœë‹¤ëŠ” ê²ƒì¸ë°ìš”. ì´ë•Œ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ê³ ì •í•˜ë©´ ê°™ì€ í•´ì‹œ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ë‹¹ì—°í•œ ì†Œë¦¬ì´ì§€ë§Œ ì‹œê·¸ë‹ˆì²˜ ê°’ì„ ê²€ì¦í•˜ê¸°ì— ì•ì„œ ìƒê°í•´ë³¸ ê²€ì¦ ë°©ë²•ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì–¸ê¸‰ì„ í–ˆìŠµë‹ˆë‹¤.

## ë°œí–‰í•œ í† í°ì„ ê²€ì¦í•´ë³´ì

15ë¶„ ë§Œë£Œê¸°ê°„ì„ ê²€ì¦í•˜ê¸° ìœ„í•´ forë¬¸ì„ ì‚¬ìš©í•´ì„œ ê²€ì¦í•˜ê³ ì í•©ë‹ˆë‹¤.

```typescript
class HashGenerator {
  static INVALID_TOKEN = {
    ok: false,
    message: "wrong format",
    detail: "hmac token is invalid",
  };
  static INVALID_SIGNATURE = {
    ok: false,
    message: "wrong value",
    detail: "hmac signature is invalid",
  };
  static EXPIRED = {
    ok: false,
    message: "expired",
    detail: "expired token",
  };
  static INVALID_ACCESS_KEY = {
    ok: false,
    message: "wrong value",
    detail: "access key is invalid",
  };
  static INVALID_SECRET_KEY = {
    ok: false,
    message: "wrong value",
    detail: "secret key is invalid",
  };
  static CORRECT_TOKEN = {
    ok: true,
    message: "token is correct",
  };
  // ... methods
  validation(hmacToken: string) {
    const expiredTime = 15;
    const compareExpiredTime = 1000 * 60 * expiredTime; // 15ë¶„
    if (hmacToken.includes("|")) {
      const currentTime = Date.now();
      const token = hmacToken.slice(12); // HMAC-SHA256ì„ ì˜ë¼ëƒ…ë‹ˆë‹¤. replaceë¥¼ í•´ë„ ë©ë‹ˆë‹¤.
      const [sig, acc, time] = hmacToken.split("|");
      // ì œì¼ ë¨¼ì € ë§Œë£Œê¸°ê°„ì„ ê²€ì¦í•©ë‹ˆë‹¤.
      // í† í°ì´ ë°œí–‰ëœ ì‹œê°„ì— ë§Œë£Œì‹œê°„ì„ ë”í•œ ê°’ì´ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì‘ë©´ ë§Œë£Œê°€ ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
      // ì¦‰, ì§€ê¸ˆì‹œê°„ê³¼ ë™ì¼í•  ë•Œê¹Œì§€ ìœ íš¨í•˜ê² ì§€ìš”.
      const isExpired =
        new Date(time).getTime() + compareExpiredTime < Date.now();

      if (isExpired) {
        return HashGenerator.EXPIRED;
      }

      // ê·¸ ë‹¤ìŒì€ ì•¡ì„¸ìŠ¤ í‚¤ ëŒ€ì¡°ì…ë‹ˆë‹¤.
      if (acc !== encodeURI(accessKey)) {
        return HashGenerator.INVALID_ACCESS_KEY;
      }

      // ê·¸ ë‹¤ìŒ ì‹œí¬ë¦¿ í‚¤ì™€ ì‹œê·¸ë‹ˆì²˜ ëŒ€ì¡°ì…ë‹ˆë‹¤.
      for (let time = 0; time < expiredTime; i++) {
        const compareTimestamp = (currentTime - time)
          .toISOString()
          .slice(0, 19);
        const encodedSecretKey = encodeURI(secretKey);
        const encodedAccessKeyTimeStampString =
          encodeURI(accessKey) + "|" + timeStampString;
        const signature = CryptoJS.HmacSHA256(
          encodedAccessKeyTimeStampString,
          encodedSecretKey
        ).toString(CryptoJS.enc.Hex);
        if (signature !== sig) {
          return HashGenerator.INVALID_SIGNATURE;
        }
      }
      // ëª¨ë‘ í†µê³¼í•˜ë©´ ì˜¬ë°”ë¥¸ í† í°ì´ë¼ëŠ” ë©”ì‹œì§€ ë°˜í™˜
      return HashGenerator.CORRECT_TOKEN;
    }

    // í† í° ìì²´ê°€ í˜•ì‹ì´ í‹€ë¦¬ë©´ ì—ëŸ¬ ë©”ì„¸ì§€ ë°˜í™˜
    return HashGenerator.INVALID_TOKEN;
  }
}
```

ë‹¨ìˆœí•˜ê²Œ ì•Œì•„ë³¸ ê²€ì¦ ë¡œì§ì…ë‹ˆë‹¤. forë¬¸ì´ ë„ˆë¬´ ê±°ìŠ¬ë ¤ì„œ `Map`ì— ì €ì¥í•˜ì—¬ ëŒ€ì¡°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ìƒˆë¡œ êµ¬ì„±ì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

```typescript
class HashGenerator {
  static INVALID_TOKEN = {
    ok: false,
    message: "wrong format",
    detail: "hmac token is invalid",
  };
  static INVALID_SIGNATURE = {
    ok: false,
    message: "wrong value",
    detail: "hmac signature is invalid",
  };
  static EXPIRED = {
    ok: false,
    message: "expired",
    detail: "expired token",
  };
  static INVALID_ACCESS_KEY = {
    ok: false,
    message: "wrong value",
    detail: "access key is invalid",
  };
  static INVALID_SECRET_KEY = {
    ok: false,
    message: "wrong value",
    detail: "secret key is invalid",
  };
  static CORRECT_TOKEN = {
    ok: true,
    message: "token is correct",
  };
  // ... methods

  tokenStorage: Map<string, object> = new Map();

  createHash() {
    const timestampString = this.getTimestamp();
    const encodedSecretKey = encodeURI(secretKey);
    const encodedAccessKey = encodeURI(accessKey);
    const encodedAccessKeyTimeStampString =
      encodedAccessKey + "|" + timeStampString;
    const signature = CryptoJS.HmacSHA256(
      encodedAccessKeyTimeStampString,
      encodedSecretKey
    ).toString(CryptoJS.enc.Hex);
    const HMAC_SHA256_KEY =
      "HMAC-SHA256 " + signature + "|" + accessKey + "|" + timestampString;

    this.tokenStorage.set(encodedAccessKeyTimeStampString, {
      acc: encodedAccessKey,
      sec: encodedSecretKey,
      accts: encodedAccessKeyTimeStampString,
      sig: signature,
      token: HMAC_SHA256_KEY,
    });

    return HMAC_SHA256_KEY;
  }

  validation(hmacToken: string) {
    const expiredTime = 15;
    const compareExpiredTime = 1000 * 60 * expiredTime; // 15ë¶„

    if (hmacToken.includes("|")) {
      const currentTime = Date.now();
      const token = hmacToken.slice(12);
      const [sig, acc, time] = hmacToken.split("|");
      const isExpired =
        new Date(time).getTime() + compareExpiredTime < Date.now();
      // ë³€ìˆ˜ê°€ ì¶”ê°€ ë©ë‹ˆë‹¤.
      const publishedToken = this.tokenStorage.get(time);

      // ì„œë²„ì—ì„œ ë°œí–‰í•˜ì§€ ì•Šì€ í† í°ì¼ ë•Œ
      if (!isMyToken) {
        return HashGenerator.INVALID_TOKEN;
      }

      // í† í° ê¸°ê°„ ë§Œë£Œ
      if (isExpired) {
        // Map ê°ì²´ì— ì €ì¥ëœ ê°’ ë˜í•œ ì‚­ì œ í•´ì¤ë‹ˆë‹¤.
        this.tokenStorage.delete(time);
        return HashGenerator.EXPIRED;
      }
      // ì—¬ê¸°ê¹Œì§€ëŠ” ì¶”ê°€ëœ ë³€ìˆ˜ì™€ ifë¬¸ ì™¸ì— ë™ì¼í•©ë‹ˆë‹¤.

      // ê·¸ ë‹¤ìŒì€ ì•¡ì„¸ìŠ¤ í‚¤ ëŒ€ì¡°ì…ë‹ˆë‹¤.
      if (acc !== publishedToken.acc) {
        return HashGenerator.INVALID_ACCESS_KEY;
      }

      // ê·¸ ë‹¤ìŒì€ ì‹œê·¸ë‹ˆì²˜ ëŒ€ì¡°ì…ë‹ˆë‹¤.
      if (sig !== publishedToken.sig) {
        return HashGenerator.INVALID_SIGNATURE;
      }

      // ë‹¤ìŒì€ ì‹œí¬ë¦¿ í‚¤ ëŒ€ì¡° ì…ë‹ˆë‹¤.
      const compareHeader = acc + "|" + time;
      const publishedHeader = publishedToken.accts;

      const compareSignature = CryptoJS.HmacSHA256(
        compareHeader,
        encodedSecretKey
      ).toString(CryptoJS.enc.Hex);
      const publishedSignature = CryptoJS.HmacSHA256(
        compareHeader,
        publishedToken.accts
      ).toString(CryptoJS.enc.Hex);

      const isSameHeader = compareHeader === publishedHeader;
      const isSameSignature = compareSignature === publishedSignature;

      // ë§ˆì°¬ê°€ì§€ë¡œ ì‹œê·¸ë‹ˆì²˜ êµ¬ì„± ê°’ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì‹œê·¸ë‹ˆì²˜ ì—ëŸ¬ë¥¼ ë°˜í™˜ì‹œí‚µë‹ˆë‹¤.
      if (!isSameHeader) {
        return HashGenerator.INVALID_SIGNATURE;
      }

      // ì‹œê·¸ë‹ˆì²˜ë¥¼ êµ¬ì„±í•˜ëŠ” í—¤ë”ëŠ” ê°™ì§€ë§Œ ê²°ê³¼ ê°’ì´ ë‹¤ë¥´ë©´ ì‹œí¬ë¦¿ í‚¤ê°€
      // ë‹¤ë¥´ê²Œ ì ìš©ëœ ê²ƒì´ë¯€ë¡œ ì‹œí¬ë¦¿ í‚¤ ì—ëŸ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
      if (!isSameSignature) {
        return HashGenerator.INVALID_SECRET_KEY;
      }

      // ëª¨ë‘ í†µê³¼í•˜ë©´ ì˜¬ë°”ë¥¸ í† í°ì´ë¼ëŠ” ë©”ì‹œì§€ ë°˜í™˜
      return HashGenerator.CORRECT_TOKEN;
    }

    // í† í° ìì²´ê°€ í˜•ì‹ì´ í‹€ë¦¬ë©´ ì—ëŸ¬ ë©”ì„¸ì§€ ë°˜í™˜
    return HashGenerator.INVALID_TOKEN;
  }
}
```

`Map` ê°ì²´ì˜ í‚¤ ê°’ì„ `accessKey`(ì„œë²„ë¥¼ ì¡°ê¸ˆì´ë‚˜ë§ˆ ì¦ëª…í•  ìˆ˜ ìˆëŠ” ê°’)ì™€ ë°œí–‰í•œ ì‹œê°„ì„ í•©í•œ ê°’ìœ¼ë¡œ ì •í•œ ì´ìœ ëŠ” í•´ë‹¹ ì„œë²„ì¸ì§€ ì‹ë³„í•  ìˆ˜ ìˆê³ , í•´ë‹¹ ì„œë²„ë¼ë©´ ê·¸ ì‹œê°„ì— ë°œí–‰ì´ ë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ì‹œê°„ ê°’ë§Œ ì €ì¥í•œë‹¤ë©´ 1ì°¨ ë°©ì–´ì„ ì´ ëš«ë¦¬ëŠ” ëŠë‚Œì´ë¼ ì°ì°í•˜ì—¬ ì„ì€ ê°’ì„ ì“°ëŠ” ê²Œ ì¢‹ì€ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ë„ ìˆìŠµë‹ˆë‹¤.

forë¬¸ì„ ëŒê¸°ë³´ë‹¤ëŠ” íš¨ìœ¨ì´ ì¢‹ì€ ê²ƒ ê°™ê³ , ëŒ€ì¡°í•˜ê¸°ë„ í¸ë¦¬í•˜ë‹¤ê³  ìƒê°ë©ë‹ˆë‹¤. ì²˜ìŒ ì„¤ëª…ì—ì„œëŠ” ë©”ì„¸ì§€ì™€ ì‹œí¬ë¦¿í‚¤ë¡œ HMACì„ ìƒì„±í•˜ëŠ” ê²ƒì´ì—ˆëŠ”ë°ìš”, ì—¬ê¸°ì„œ ë©”ì„¸ì§€ ì—­í• ì€ ì•¡ì„¸ìŠ¤í‚¤ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ë³´í†µ ë¡œê·¸ì¸ ì‹œ ë°›ëŠ” í¼ ë°ì´í„°ë¥¼ ë©”ì„¸ì§€ë¡œ í•˜ëŠ” ë“±ì˜ ì˜ˆì‹œë¥¼ ë´¤ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹´ëŠ” ê²ƒë„ ë°©ë²• ì¤‘ í•˜ë‚˜ì´ê² ì§€ë§Œ ë¡œê·¸ì¸ ê²€ì¦ ë”°ë¡œ HMACì½”ë“œ ìƒì„± ë”°ë¡œí•˜ëŠ” ë°©ë²•ì´ ì†ŒìŠ¤ì½”ë“œ ê´€ë¦¬ê°€ ìš©ì´í•  ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì–´ ì˜ˆì‹œ ë˜í•œ ê·¸ëŸ¬í•œ ìƒê°ì„ ë°˜ì˜í•´ì„œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

## ë§ˆì¹˜ë©°

ì²˜ìŒì—ëŠ” ì–´ë–»ê²Œ ì‹œê·¸ë‹ˆì²˜ë¥¼ ë§Œë“¤ì–´ì„œ ì–´ë–»ê²Œ ê²€ì¦í•˜ëŠ”ì§€ ì¡°ì°¨ ê°ì„ ëª» ì¡ì•˜ì§€ë§Œ ì¡°ê¸ˆì´ë‚˜ë§ˆ ë‹¤ê°€ê°€ëŠ” ëŠë‚Œì´ ë“¤ì–´ì„œ ë¿Œë“¯í•©ë‹ˆë‹¤.

ì–´ëŠ ë°©ë²•ì´ ì¢‹ê³  ë‚˜ì˜ê³ ë¥¼ ë– ë‚˜ì„œ ì´ë²ˆì— í˜‘ì—…í•˜ë©´ì„œ HMAC ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ìë¥¼ ê²€ì¦í•˜ê³  ì„œë²„ ë¦¬ì†ŒìŠ¤ë¥¼ ë³´í˜¸í•˜ëŠ” ê²½í—˜ì„ í•˜ê²Œ ë˜ì—ˆëŠ”ë°ìš”, ì–´ê¹¨ë„˜ì–´ë¡œ ë°°ìš°ë©´ì„œ ëª¨ë“  ê±¸ ë¬¼ì–´ë³´ê³  ë°°ìš¸ ìˆ˜ ì—†ëŠ” ë…¸ë¦‡ì´ë‹ˆ ì´ê²ƒì €ê²ƒ ë¶€ë”ªíˆë©´ì„œ ë§ì€ ê²ƒì„ ë°°ì› ë‹¤ê³  ìƒê°ì´ ë“­ë‹ˆë‹¤.

ë³´ë‹¤ ì •í™•í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í¬ìŠ¤íŒ…í•´ì•¼í•˜ëŠ”ë° ê·¸ëŸ¬ì§€ ëª»í•œ ê²ƒ ê°™ì•„ ì•„ì‰½ê³  ë§Œì¡±ìŠ¤ëŸ½ì§€ ëª»í•©ë‹ˆë‹¤. ê³„ì†í•´ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ë¸”ë¡œê·¸ë¥¼ ê´€ë¦¬í•˜ê³  ìˆìœ¼ë‹ˆ, ë” ê³µë¶€í•˜ê³  ê²½í—˜í•´ì„œ ê° í¬ìŠ¤íŒ… ë‚´ìš©ì„ ì ê²€í•˜ê³  ì—…ë°ì´íŠ¸ í•  ì˜ˆì •ì´ë‹ˆ ë„ˆê·¸ëŸ¬ì´ ë´ì£¼ì‹œê³  ë‚´ìš©ì— ì˜ëª»ëœ ë‚´ìš©ì€ ëŒ“ê¸€ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ğŸ˜

---

ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©

[jongminë‹˜ ë¸”ë¡œê·¸ | HMACì„ ì´ìš©í•œ ë¬´ê²°ì„± ë³´ì¥](https://jongmin92.github.io/2019/12/23/Programming/hmac/)

[JWT í™ˆí˜ì´ì§€](https://jwt.io/introduction)
