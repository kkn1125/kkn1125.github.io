---
slug: "/javascript-jest01/"
layout: post
modified: 2022-03-14 00:09:35 +0000
date:   2021-12-23 21:09:22 +0000
title:  "[JAVASCRIPT] Jestë¥¼ ì‚¬ìš©í•´ë³´ì"
author: Kimson
categories: [ javascript ]
image: /images/post/covers/TIL-javascript.png
tags: [ unit test, jest, test code ]
description: "Jest ì‚¬ìš©í•˜ê¸°

ì˜¤ëŠ˜ ì˜¬ë ¸ë˜ [JAVA] TDDë¥¼ ì•Œì•„ë³´ì í¬ìŠ¤íŒ…ê³¼ ê´€ë ¨í•œ íˆ´ì˜ í•˜ë‚˜ì¸ë°ìš”. `node`ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
featured: true
hidden: false
rating: 4
toc: true
profile: false
istop: true
keysum: false
keywords: ""
published: true
---

# Jest ì‚¬ìš©í•˜ê¸°

ì˜¤ëŠ˜ ì˜¬ë ¸ë˜ [[JAVA] TDDë¥¼ ì•Œì•„ë³´ì](/java-tdd01) í¬ìŠ¤íŒ…ê³¼ ê´€ë ¨í•œ íˆ´ì˜ í•˜ë‚˜ì¸ë°ìš”. `node`ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìì£¼ ë³´ë˜ ìœ íŠœë¸Œ ì±„ë„ì— `TDD`ì™€ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ êµ¬í˜„í•˜ëŠ”ì§€ì— ëŒ€í•œ ë‚´ìš©ì„ ë³´ê³  ë”°ë¼í•˜ë©´ì„œ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

## ì„¤ì¹˜ ë° ì„¤ì •

> ì‹¤í–‰ IDEëŠ” vscodeì…ë‹ˆë‹¤.

### ì„¤ì¹˜

1. ìš°ì„  `node.js`ë¥¼ ì„¤ì¹˜í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.
2. `bash` í˜¹ì€ `vscode`ì˜ í„°ë¯¸ë„ì„ ì—´ê³ 
3. $ `npm init -y` ì…ë ¥ í›„ `package.json`ì´ ìƒê¸°ëŠ”ì§€ ë´…ë‹ˆë‹¤.
4. `package.json`ì´ ìƒê²¼ë‹¤ë©´
5. $ `npm install --save-dev jest` ë¥¼ ì…ë ¥í•˜ì—¬ jestë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

### ì„¤ì •

`npm init -y`ë¥¼ ì…ë ¥í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ `package.json`ì´ ìƒê¹ë‹ˆë‹¤.

```json
{
  "name": "test01",
  "version": "1.0.0",
  "description": "",
  "main": "main.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}
```

`npm install --save-dev jest` ì…ë ¥ í›„ ì•„ë˜ì™€ ê°™ì´ ë‚´ìš©ì´ ë°”ë€Œê²Œ ë©ë‹ˆë‹¤. ì´ë•Œ `scripts`ì˜ `test`ì— `jest`ë¼ê³  ì…ë ¥ í•©ë‹ˆë‹¤.

```json
{
  "name": "test01",
  "version": "1.0.0",
  "description": "",
  "main": "main.js",
  "scripts": {
    "test": "jest"
  },
  "keywords": [],
  "license": "ISC",

  "author": "",
  "devDependencies": {
    "jest": "^27.4.5"
  }
}
```

ìœ„ì™€ ê°™ì´ `author`ì™€ `devDependencies`ê°€ ìƒê¸°ê³ , `scripts`ì˜ `test`ì˜ ê°’ì—ëŠ” `jest`ë¼ê³  ë°”ê¿”ì¤ë‹ˆë‹¤.

ê·¸ë ‡ê²Œ ìˆ˜ì •ì´ ëë‚˜ë©´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì€ í„°ë¯¸ë„ì—ì„œ `npm test`ë¼ê³  í•˜ë©´ `scripts`ì˜ `test` ê°’ì„ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.

`jest`ê°€ ì‹¤í–‰ë˜ë©´ ì´ˆê¸°ì—ëŠ” ì•„ë¬´ëŸ° í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì“°ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— `fail`ì´ ëœ¹ë‹ˆë‹¤.

## ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸

ì˜ˆë¥¼ ë“¤ì–´ ê³„ì‚°ê¸°ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.

ê¸°ëŠ¥ì€ ë”í•˜ê¸°, ë¹¼ê¸°, ë‚˜ëˆ„ê¸°, ê³±í•˜ê¸°ë¡œ ìƒê°í•˜ê³  ë”í•˜ê¸°ë¶€í„° ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```javascript
// sum.js
function sum(a, b) {
  return a + b;
}

module.exports = sum;
```

ì´ë•Œ `sum.js`ì—ëŠ” `sum`í•¨ìˆ˜ê°€ ìë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. `sum`í•¨ìˆ˜ëŠ” ì¸ìë¡œ `a`ì™€ `b`ë¥¼ ë°›ì•„ ë‘ ì¸ì ê°’ì„ ë”í•œ ê°’ì´ ë°˜í™˜ë©ë‹ˆë‹¤.

```javascript
// sum.test.js
const sum = require("./sum");
```

ì´ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í• í…ë°ìš”. `sum.test.js`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ íŒŒì¼ëª…ì„ ì£¼ë©´ `jest`ê°€ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ íŒŒì¼ì„ ì¸ì§€í•˜ê³  ë‚´ìš©ì˜ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ì£¼ê²Œ ë©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ëœë‹¤ë©´ ì•„ë˜ì˜ ì½”ë“œë¡œ ê°€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
// sum.test.js
const sum = require("./sum");

test("[ê³„ì‚°ê¸° ê¸°ëŠ¥] ë”í•˜ê¸° í…ŒìŠ¤íŠ¸, ìˆ«ìì™€ ìˆ«ìê°€ ì£¼ì–´ì§ˆ ë•Œ", () => {
  expect(sum(1, 2)).toEqual(3);
});
```

ìš°ë¦¬ëŠ” `sum`ì´ë¼ëŠ” í•¨ìˆ˜ì— ì¸ì ê°’ 1ê³¼ 2ê°€ ì£¼ì–´ì§€ë©´ 3ì´ ë‚˜ì˜¤ëŠ” ê²°ê³¼ ê°’ì„ ê¸°ëŒ€í•©ë‹ˆë‹¤. `expect`í•¨ìˆ˜ì— í…ŒìŠ¤íŠ¸í•  í•¨ìˆ˜ë¥¼ ë„£ê³  `toEqual`ë©”ì„œë“œì— ê¸°ëŒ€í•˜ëŠ” ê²°ê³¼ ê°’ì„ ì£¼ê²Œ ë˜ë©´ ë§ìœ¼ë©´ `pass`, í‹€ë¦¬ë©´ `fail`ì„ ì¶œë ¥í•´ì¤ë‹ˆë‹¤.

```javascript
// sum.test.js
const sum = require("./sum");

test("[ê³„ì‚°ê¸° ê¸°ëŠ¥] ë”í•˜ê¸° í…ŒìŠ¤íŠ¸, ìˆ«ìì™€ ìˆ«ìê°€ ì£¼ì–´ì§ˆ ë•Œ", () => {
  expect(sum(1, 2)).toEqual(3);
});
```

ê·¸ë ‡ë‹¤ë©´ `fail`ì„ ìœ ë„í•˜ë ¤ë©´ `toEqual`ì— 3ì´ ì•„ë‹Œ ìˆ˜ë¥¼ ë„£ìœ¼ë©´, í˜¹ì€ ë¬¸ìë¥¼ ë„£ìœ¼ë©´ `fail`ì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

ì™„ì„±ëœ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œë¡œ ì˜®ê¹ë‹ˆë‹¤.

ê·¸ëŸ°ë° ëˆ„êµ°ê°€ `sum`í•¨ìˆ˜ì˜ ì¸ìë¡œ ë¬¸ì "1"ì˜ í˜•íƒœê°€ ì™€ë„ ê³„ì‚°ì´ ë˜ê²Œ í•˜ê³ ì‹¶ì–´ í•œë‹¤ë©´, `a`ì™€ `b`ë¥¼ `isNaN` ë“±ì„ ì‚¬ìš©í•´ì„œ ê²€ì¦í•˜ê³  íŒŒì‹±í•˜ëŠ” êµ¬ë¬¸ë§Œ ì¶”ê°€í•´ì„œ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

ê·¸ë ‡ê²Œë˜ë©´ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•œ ì½”ë“œê°€ ì™„ì„±ì´ ë©ë‹ˆë‹¤.

ì´ ì™¸ì˜ ë¹¼ê¸°, ë‚˜ëˆ„ê¸°, ë”í•˜ê¸° ê¸°ëŠ¥ë„ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ êµ¬í˜„í•´ì„œ ë¦¬íŒ©í† ë§í•˜ëŠ” ë“±ì˜ ê³¼ì •ì„ ê±°ì¹˜ê³  ì‹¤ì œ ì½”ë“œë¡œ ì˜®ê²¨ ê°œë°œí•˜ëŠ” ë°©ë²•ë¡ ì„ `TDD`ë¼ê³  í•©ë‹ˆë‹¤!

`TDD`ê°€ ìƒê°ë‚˜ì„œ `Jest`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¹€ì— ê¸°ë¡ì„ í–ˆìŠµë‹ˆë‹¤.

> ìµœê·¼ ì–´ë–¤ ì™¸êµ­ì¸ ë¶„ê»˜ì„œ node js ì„¤ì¹˜ ê´€ë ¨ ë‚´ìš©ì„ pr ì£¼ì…¨ìŠµë‹ˆë‹¤. ì ì–´ë„ ë³¸ì¸ì— ëŒ€í•œ ì†Œê°œì™€ ë‚´ìš©ì„ ì¶”ê°€í•œ í›„ì˜ íš¨ê³¼ì— ëŒ€í•œ ë‚´ìš©ì„ ì ì–´ì„œ ì˜¬ë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ™‡â€â™‚ï¸  
> ìš”ì²­í•˜ì‹  ë§í¬ë¥¼ í•¨ê»˜ ì²¨ë¶€í–ˆìŠµë‹ˆë‹¤ ğŸ˜€

---

ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©

[jest.js í™ˆí˜ì´ì§€](https://jestjs.io/)

[ë…¸ë“œ js ì„¤ì¹˜](https://www.scaler.com/topics/javascript/install-node-js/)
