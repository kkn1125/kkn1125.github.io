---
slug: "/vue3-start01/"
layout: post
modified: 2022-03-14 00:09:35 +0000
date:   2022-03-01 17:09:38 +0000
title:  "[VUE] VUE3 + VITEë¡œ Multi Pageë¥¼ ë§Œë“¤ì–´ë³´ì"
author: Kimson
categories: [ vue ]
image: /images/post/covers/TIL-vue.png
tags: [ vite, vue3, til ]
description: "VUE3 + VITEë¡œ Multi Pageë¥¼ ë§Œë“¤ì–´ë³´ì

ë§¤ë²ˆ ì´ ê¸€, ì € ê¸€ ì°¾ì•„ë‹¤ë‹ˆë‹¤ ë³´ë‹ˆ ì‹œê°„ì„ ë„ˆë¬´ ë§ì´ ì¡ì•„ ë¨¹ìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Vue3ë¡œ Viteê¸°ë°˜ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ SPAê°€ ì•„ë‹Œ Multi page ì„¤ì •ì— ëŒ€í•´ ê¸°ë¡í•˜ë ¤í•©ë‹ˆë‹¤."
featured: true
hidden: false
rating: 4.5
toc: true
profile: false
istop: true
keysum: false
keywords: ""
published: true
---

# VUE3 + VITEë¡œ Multi Pageë¥¼ ë§Œë“¤ì–´ë³´ì

ë§¤ë²ˆ ì´ ê¸€, ì € ê¸€ ì°¾ì•„ë‹¤ë‹ˆë‹¤ ë³´ë‹ˆ ì‹œê°„ì„ ë„ˆë¬´ ë§ì´ ì¡ì•„ ë¨¹ìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Vue3ë¡œ Viteê¸°ë°˜ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ SPAê°€ ì•„ë‹Œ Multi page ì„¤ì •ì— ëŒ€í•´ ê¸°ë¡í•˜ë ¤í•©ë‹ˆë‹¤.

## íŒŒì¼ êµ¬ì¡°

- .vscode
- 404
  - index.html
  - main.js
- about
  - index.html
  - main.js
- dist # build ëœ íŒŒì¼
- node_modules
- public
- router
  - index.js
- src
  - assets
  - components
    - About.vue
    - App.vue
    - Home.vue
    - Layout.vue
    - NotFounds.vue
- .eslintrc.cjs
- .gitignore
- deploy.sh
- index.html
- main.js
- package-lock.json
- package.json
- README.json
- vite.config.js

ê¸°ì¡´ì— íŒŒì¼êµ¬ì¡°ëŠ” `src/` ì•ˆì— `index.html`ê³¼ `main.js`ê°€ í•˜ë‚˜ ìˆê³  `App.vue`ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

ë‚˜ë¨¸ì§€ ê¸°íƒ€ ì»´í¬ë„ŒíŠ¸ëŠ” `components/`ì— ìˆìŠµë‹ˆë‹¤.

## íŒŒì¼ ì„¸íŒ…

ì„¤ëª…ì„ ë“œë¦¬ìë©´ ëª¨ë“  `vue`í™•ì¥ì íŒŒì¼ì€ `components`ì—ì„œ ê´€ë¦¬í•˜ë ¤í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  `root`ê²½ë¡œì— ì¡´ì¬í•˜ëŠ” `index.html`ê³¼ `main.js`ëŠ” `App.vue`ë¥¼ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤. `App.vue`ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```vue
// App.vue
<script setup>
import Layout from "./Layout.vue";
</script>

<template>
  <Layout>
    <router-view></router-view>
  </Layout>
</template>
```

ê·¸ë¦¬ê³  `Layout.vue`ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```javascript
// Layout.vue
<template>
  <slot></slot>
</template>
```

`about/`ê³¼ `404/`í´ë” ë‚´ `main.js`ì™€ `index.html`ì€ `root/`ì— ìˆëŠ” `index.html`ê³¼ `main.js`ì™€ ë‚´ìš©ì´ ë™ì¼í•©ë‹ˆë‹¤.

`index.html`ì…ë‹ˆë‹¤.

```html
<!-- root/index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.js"></script>
  </body>
</html>
```

`main.js`ì…ë‹ˆë‹¤.

```javascript
// root/main.js
import { createApp } from "vue";
import App from "@/components/App.vue";
import router from "./router/index.js";

createApp(App).use(router).mount("#app");
```

ì´ë ‡ê²Œ ì„¸íŒ…ì´ ëë‚˜ë©´ ì´ì œ `router`ë¥¼ ì„¸íŒ…í•  ì°¨ë¡€ì…ë‹ˆë‹¤. `router`ëŠ” `npm`ìœ¼ë¡œ ë‹¤ìš´ ë°›ì•„ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.

```bash
$ npm i --save-dev vue-router
```

```javascript
// router/index.js

/*global process*/
/*eslint no-undef: "error"*/

import { createRouter, createWebHistory } from "vue-router";
import Home from "@/components/Home.vue";
import About from "@/components/About.vue";
import NotFound from "@/components/NotFounds.vue";

const root = process.env.NODE_ENV === "production"
? "/django-docs/" // note the trailing slash
: "/";

const routes = [
  {
    path: root+"",
    name: "home",
    component: Home,
  },
  {
    path: root+"about",
    name: "about",
    component: About,
  },
  {
    path: root+"404",
    name: "notFound",
    component: NotFound,
  },
  {
    path: root+":pathMatch(.*)*",
    redirect: root+"/404",
  },
];

export default createRouter({
  history: createWebHistory(),
  routes,
});
```

rootë¥¼ ì„¤ì •í•´ì¤€ ì´ìœ ëŠ” ì´ë¯¸ ioí˜ì´ì§€ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— basepath ë¥¼ ë°°í¬í•˜ê³  ë‚˜ì„œ ì €ì¥ì†Œ ê²½ë¡œì™€ ë§ì¶°ì£¼ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ ì´ì œ `build`í•  ë•Œ ì„¤ì •ë§Œ ë‚¨ìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” `vite.config.js` ë‚´ìš©ì…ë‹ˆë‹¤.

```javascript
/*global process, __dirname*/
/*eslint no-undef: "error"*/

import { fileURLToPath, URL } from "url";
import { defineConfig } from "vite";

import { resolve } from "path";
import vue from "@vitejs/plugin-vue";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()],
  base:
    process.env.NODE_ENV === "production"
      ? "/django-docs/" // note the trailing slash
      : "/",
  resolve: {
    alias: {
      "@": fileURLToPath(new URL("./src", import.meta.url)),
    },
  },
  build: {
    rollupOptions: {
      input: {
        main: resolve(__dirname, "index.html"),
        about: resolve(__dirname, "about/index.html"),
        404: resolve(__dirname, "404/index.html"),
      },
    },
  },
});
```

> *global foo, bar, baz*ì€ global ë’¤ì— ì˜¤ëŠ” ë³€ìˆ˜, í•¨ìˆ˜ë¥¼ eslintì—ì„œ ì—ëŸ¬ ì œì™¸ì‹œí‚µë‹ˆë‹¤.

## deploy.sh

ì¶”ê°€ë¡œ ë°°í¬ë¥¼ ìë™ìœ¼ë¡œ í•˜ê¸° ìœ„í•´ deploy.shë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```sh
#!/usr/bin/env sh

# ì˜¤ë¥˜ ë°œìƒì‹œ ì¤‘ë‹¨í•œë‹¤.
set -e

# ë¬¸ì„œ(md)ë¥¼ buildí•˜ì—¬ htmlë¡œ ë§Œë“ ë‹¤. 
# package.jsonì— ì§€ì •ëœ build ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.
npm run build

# buildê°€ outputëœ í´ë”ë¡œ ì´ë™í•œë‹¤. 
cd ./dist

# init + add + commitì„ í•´ì¤€ ë‹¤ìŒ
git init
git add -A
git commit -m 'deploy'

# https://<USERNAME>.github.io ì— ë°°í¬í•˜ëŠ” ê²½ìš°
# git push -f https://github.com/<USERNAME>/<USERNAME>.github.io.git master

# https://<USERNAME>.github.io/<REPO> ì— ë°°í¬í•˜ëŠ” ê²½ìš°
# git push -f https://github.com/<USERNAME>/<REPO>.git master:gh-pages

# í•„ìì˜ ê²½ìš° django-docs repositoryì— ë°°í¬í•˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.
git push -f https://github.com/<USER-ID>/django-docs.git master:gh-pages

cd -
```

ì´ë ‡ê²Œ viteê¸°ë°˜ vue3 ë©€í‹°í˜ì´ì§€ ì„¸íŒ…ì´ ëë‚©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ê°œë°œí•˜ë©´ ë©ë‹ˆë‹¤.

ì‹¤ìˆ˜í•´ê°€ë©´ì„œ ì •ë¦¬í•˜ëŠ”ë° ë²Œì¨ 4ì‹œê°„ì´ ì§€ë‚¬ë„¤ìš”... ğŸ˜¥

-----

ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©

[ê°œë°œì í™©ì¤€ì¼ë‹˜ :: github pageì— ë°°í¬í•˜ê¸°](https://junilhwang.github.io/TIL/Vuepress/Deploy/#_3-vuepress%E1%84%80%E1%85%A1-root-docs-%E1%84%80%E1%85%B5%E1%84%8C%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B5%E1%86%AF-%E1%84%84%E1%85%A2)

[Vite :: config ì„¤ì •](https://vitejs-kr.github.io/config/#publicdir)

[byungju_96ë‹˜ vlog :: 404 Error í•¸ë“¤ë§](https://velog.io/@byungjur_96/vue.js-404-Error-%ED%95%B8%EB%93%A4%EB%A7%81)

[Vue Router :: router ê¸°ë³¸ ì„¤ì •](https://router.vuejs.org/guide/#javascript)

[Stackoverflow :: How to build a multi pages application by vite2 and vue3ï¼Ÿ](https://stackoverflow.com/questions/65868976/how-to-build-a-multi-pages-application-by-vite2-and-vue3)