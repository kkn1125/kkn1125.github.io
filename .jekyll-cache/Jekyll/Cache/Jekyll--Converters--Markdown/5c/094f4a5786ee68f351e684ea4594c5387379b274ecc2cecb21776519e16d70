I"Q!<h1 id="ì»¤ìŠ¤í…€-í…œí”Œë¦¿-ì‚¬ìš©">ì»¤ìŠ¤í…€ í…œí”Œë¦¿ ì‚¬ìš©</h1>

<p>ë°ì´í„°ë² ì´ìŠ¤ì— íƒœê·¸ë¥¼ ì €ì¥í•  ë•Œ 1:n ê´€ê³„ë¡œ í…Œì´ë¸”ì„ ë§Œë“¤ìë‹ˆ ë‚´ìš© í•˜ë‚˜ì— í…Œì´ë¸”ì„ í•˜ë‚˜ ë” ë§Œë“œëŠ”ê²Œ ë¹„íš¨ìœ¨ì ì¸ ê²ƒ ê°™ì•„ ë¬¸ìì—´ë¡œ ì½¤ë§ˆë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„í–ˆëŠ”ë°ìš”.</p>

<p>djangoì—ì„œ í…œí”Œë¦¿ êµ¬ë¬¸ìœ¼ë¡œ ë¿Œë ¤ì£¼ë ¤ê³  splitì„ ì°¾ì•„ë³´ë‹ˆ ì—†ë”êµ°ìš”.</p>

<p>splitë“± í•„ìš”í•œ í•¨ìˆ˜ë“¤ì€ ì§ì ‘ ì‚¬ìš©ìê°€ ì»¤ìŠ¤í…€ í…œí”Œë¦¿ íƒœê·¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ê¸° ìœ„í•´ì„œ ì´ˆê¸° ì„¸íŒ…ë§Œ ì•Œì•„ë‘ë©´ ê·¸ ë’¤ë¡œëŠ” í•„ìš”í•œ ì»¤ìŠ¤í…€ íƒœê·¸ëŠ” ë§Œë“¤ì–´ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p>

<p>í•„ìš”í•œ ì„¸íŒ…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>

<ol>
  <li>tempaltetags/ ë””ë ‰í† ë¦¬ ìƒì„± (í´ë”ëª… ììœ ì§€ë§Œ ì´ë¦„ì„ ë°”ê¿€ ì‹œ settings.pyë„ ìˆ˜ì •)</li>
  <li>customs.py í•¨ìˆ˜ ì‘ì„± (íŒŒì¼ëª… ììœ )</li>
</ol>

<h2 id="templatetags-ë””ë ‰í† ë¦¬">templatetags ë””ë ‰í† ë¦¬</h2>

<p>ì‚¬ìš©ìí™” í•  í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ë“¤ì„ ëª¨ì•„ë‘ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“œëŠ”ë° ìˆì–´ì„œ í˜„ì¬ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì•± í´ë” ë°”ë¡œ í•˜ìœ„ì— templatetags/ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

<div class="btn-bundle">
   <button class="btn btn-info" target="origin" group="one">templatetags</button>
   <button class="btn btn-info" target="change" group="one">my_tags</button>
</div>

<div page="origin" group="one" class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="c1"># project_name/app_name/templatetags/customs.py
</span><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">template</span>

<span class="n">register</span> <span class="o">=</span> <span class="n">template</span><span class="p">.</span><span class="n">Library</span><span class="p">()</span>

<span class="o">@</span><span class="n">register</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'split'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">split</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">value</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="c1"># ë§Œì¼ valueê°€ Noneì¼ ìˆ˜ ìˆëŠ” ìƒí™©ì—ì„œ ì“´ë‹¤ë©´ ì—ëŸ¬ìƒí™© ì²˜ë¦¬ë„ í•´ì£¼ì…”ì•¼í•©ë‹ˆë‹¤.
</span><span class="o">@</span><span class="n">register</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'split'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">split</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
   <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">value</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
   <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">value</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div page="change" group="one">
   templatetagsê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•  ê²½ìš° settings.pyì—ì„œ templatesì— librariesë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.
</div>

<div page="change" group="one" class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="c1"># ...
</span>        <span class="s">'OPTIONS'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">'context_processors'</span><span class="p">:</span> <span class="p">[</span>
                <span class="c1"># ...
</span>            <span class="p">],</span>
            <span class="s">'libraries'</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># ì—¬ê¸°ì— ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ëœ ì´ë¦„ìœ¼ë¡œ ì¶”ê°€
</span>                <span class="s">'customs'</span><span class="p">:</span> <span class="s">'todo.my_tags.customs'</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<p>ì´ë ‡ê²Œ í•„ìš”í•œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´ templateì—ì„œ ì‚¬ìš©í•˜ë©´ ë˜ëŠ”ë°, ìì‹ ì´ ì‘ì„±í•œ <code class="language-plaintext highlighter-rouge">python</code>íŒŒì¼ ëª…ì„ <code class="language-plaintext highlighter-rouge">load</code>í•´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>

<div class="btn-bundle">
   <button class="btn btn-info" target="first" group="two">forë¬¸</button>
   <button class="btn btn-info" target="second" group="two">ë‹¨ë…</button>
</div>

<div page="first" group="two" class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c">&lt;!-- layout.html --&gt;</span>
{% load customs %}
...
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
   {% with todo.tags|split:',' as tags%}
      {% for tag in tags %}
         {{tag}}<span class="nt">&lt;br&gt;</span>
      {% endfor %}
   {% endWith %}
<span class="nt">&lt;/div&gt;</span>
...
</pre></td></tr></tbody></table></code></pre></div></div>

<div page="second" group="two" class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c">&lt;!-- layout.html --&gt;</span>
{% load customs %}
...
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tag tag-info"</span><span class="nt">&gt;</span>
   {{ todo.tags|split:',' }} <span class="c">&lt;!-- ë°°ì—´ ì¶œë ¥ --&gt;</span>
<span class="nt">&lt;/span&gt;</span>
...
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">with</code>ì— ê´€í•œ ìì„¸í•œ ì‚¬í•­ì€ <a href="https://docs.djangoproject.com/en/4.0/ref/templates/builtins/" target="_blank">ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p>

<p>ì´ë ‡ê²Œ ì„¸íŒ…í•˜ê³ ë‚˜ë©´ í•„ìš”í•œ í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ì„œ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤. templatetagsì— ëŒ€í•´ ë” ì•Œê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ django ê³µì‹ í™ˆí˜ì´ì§€ì˜ docsë¥¼ ì½ì–´ë³´ì‹œë©´ ë©ë‹ˆë‹¤. ë§í¬ëŠ” ì•„ë˜ì— ìˆìŠµë‹ˆë‹¤.</p>

<hr />

<p>ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©</p>

<p><a href="https://docs.djangoproject.com/en/4.0/howto/custom-template-tags/#code-layout" target="_blank">Djangoproject docs :: Code layout</a></p>

<p><a href="https://roytuts.com/creating-custom-template-tags-and-filter-in-django/" target="_blank">SOUMITRA :: Creating custom template tags and filter in Django</a></p>

<p><a href="https://moonbooks.org/Articles/How-to-create-a-list-of-items-from-a-string-in-a-Django-template-/" target="_blank">Daidalos :: How to create a list of items from a string in a Django template ?</a></p>

<p><a href="https://ozzieliu.com/2016/04/26/writing-liquid-template-in-markdown-with-jekyll/" target="_blank">Ozzie Liu :: Writing Liquid Template in Markdown Code Blocks with Jekyll</a></p>

<p><a href="https://gist.github.com/linuxkathirvel/8127c40fdad028bbb79bec24f36eee1c" target="_blank">linuxkathirvel :: split-filter-in-django-template.md - split string to array</a></p>

<p><a href="https://stackoverflow.com/questions/8317537/django-templates-split-string-to-array" target="_blank">Stackoverflow :: Django templates - split string to array</a></p>
:ET