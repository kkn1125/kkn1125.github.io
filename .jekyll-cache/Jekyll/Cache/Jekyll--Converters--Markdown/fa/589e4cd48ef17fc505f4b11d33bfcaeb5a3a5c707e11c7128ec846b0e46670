I"óZ<h1 id="ë‹¨ìœ„í…ŒìŠ¤íŠ¸-ì‘ì„±">ë‹¨ìœ„í…ŒìŠ¤íŠ¸ ì‘ì„±</h1>

<blockquote>
  <p>ë‹¨ìœ„í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ëŠ” ê²ƒì— ìµìˆ™í•´ì§€ê¸° ìœ„í•´ì„œ ì´ì œ ë§‰ ì‹œì‘ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤. í™•ì‹¤í•˜ì§€ ì•Šì§€ë§Œ ì°¾ì•„ê°€ë©´ì„œ ì‹œë„í•˜ê³  ìˆëŠ” ìƒíƒœë¼ ì •í™•í•œ ì´ì•¼ê¸°ë¼ê³ ëŠ” ë§ ëª»í•©ë‹ˆë‹¤. ëŒ€ì‹ ì— ì°¸ê³ í•œ ìë£Œë“¤ì´ ë§í¬ë˜ì–´ ìˆìœ¼ë‹ˆ ì°¸ê³ ë°”ëë‹ˆë‹¤.</p>
</blockquote>

<p>ì´ì œ ë§‰ ì•Œì•„ë³´ê¸° ì‹œì‘í•œ ì‹œì ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ í•„ìš”ì„±ì„ ì–¸ê¸‰í•˜ê¸°ì—” ë¬´ë¦¬ê°€ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì— ëŒ€í•´ì„œ ì­‰ ì•Œì•„ë³´ê³  ì •ë¦¬í•´ë‚˜ê°€ë ¤í•©ë‹ˆë‹¤.</p>

<h2 id="í…ŒìŠ¤íŠ¸-ì½”ë“œ-ì‘ì„±">í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c1"># myapp/tests.py
</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span> <span class="c1">#, Client
</span>
<span class="k">def</span> <span class="nf">plus</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">class</span> <span class="nc">TestCodes</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_case_plus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">plus</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="mi">8</span><span class="p">)</span>

<span class="c1"># ì´ˆê¸°ì—ëŠ” ë¹„ì–´ìˆë‹¤.
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">python manage.py test</code>ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. ìì„¸í•œ ì˜µì…˜ì— ëŒ€í•´ì„œëŠ” <code class="language-plaintext highlighter-rouge">django</code> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">tests.py</code>ëŠ” <code class="language-plaintext highlighter-rouge">app</code>ì„ ìƒì„±í•˜ë©´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸° ì „ì— ì•Œì•„ë³´ë©´ ì¢‹ì€ ë‚´ìš©ì´ ìˆìŠµë‹ˆë‹¤.</p>

<p>í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•  ë•Œ ë­”ê°€ <code class="language-plaintext highlighter-rouge">hook</code>ìŠ¤ëŸ¬ìš´ ë©”ì„œë“œë“¤ì´ ì œê³µë©ë‹ˆë‹¤. ì‹¤í–‰ ì „/í›„, í•œë²ˆ ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œë“¤ì…ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="c1"># myapp/tests.py
</span>
<span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">skip</span><span class="p">,</span> <span class="n">expectedFailure</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span> <span class="c1">#, Client
</span>
<span class="k">class</span> <span class="nc">TestCodes</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""_íŠ¹ì§•_
        í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ë§¤ë²ˆ ìë™ í˜¸ì¶œ
        ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤íŒ¨ë¡œ ì·¨ê¸‰
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">comment</span> <span class="o">=</span> <span class="s">'kimson'</span>

    <span class="o">@</span><span class="n">expectedFailure</span>
    <span class="k">def</span> <span class="nf">test_case_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""_í…ŒìŠ¤íŠ¸ ëª…ëª…ê·œì¹™_
        def test_*(self):
            ì—¬ëŸ¬ ê°œì˜ assert*ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">comment</span><span class="p">,</span> <span class="s">'kimson'</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">test</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""_íŠ¹ì§•_
        setUpë©”ì„œë“œê°€ ì„±ê³µí•˜ë©´,
        ë‚˜ë¨¸ì§€ í…ŒìŠ¤íŠ¸ì˜ ì„±íŒ¨ ì—¬ë¶€ ê´€ê³„ì—†ì´ ì‹¤í–‰
        """</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">comment</span> <span class="o">=</span> <span class="s">''</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ê°„ë‹¨í•˜ê²Œ ë³´ë©´ ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ ì •ì˜í•  ë•ŒëŠ” <code class="language-plaintext highlighter-rouge">test_</code>ë¥¼ ì•ì— ë¶™ì—¬ì•¼í•˜ëŠ” ëª…ëª…ê·œì¹™ì´ ìˆê³ , <code class="language-plaintext highlighter-rouge">setUp</code>ê³¼ <code class="language-plaintext highlighter-rouge">tearDown</code>ê³¼ ê°™ì€ ë©”ì„œë“œê°€ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹¤í–‰ ì „ê³¼ í›„ì— ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.</p>

<p>í”í•œ ì˜ˆì œë¡œëŠ” ìˆ˜ì˜ í•©ì„ êµ¬í•˜ëŠ” ì½”ë“œë¥¼ ì˜ˆì œë¡œ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c1"># myapp/tests.py
</span><span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>

<span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">class</span> <span class="nc">TestCodes</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">test_sum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="mi">8</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="client-ì‚¬ìš©">Client ì‚¬ìš©</h2>

<p><code class="language-plaintext highlighter-rouge">Client</code>ë¥¼ ì‚¬ìš©í•˜ë©´ login, logoutê³¼ get, postìš”ì²­ ë“±ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³ , ì–´ë–»ê²Œ ë™ì‘ë˜ê³ , ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ëŠ”ë° ë¡œê·¸ì¸ì„ ìš”êµ¬í•˜ëŠ” í˜ì´ì§€ë¥¼ ìš”ì²­í•œë‹¤ë©´ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê²Œ ë©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="c1"># myapp/tests.py
</span><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth</span> <span class="kn">import</span> <span class="n">get_user_model</span>

<span class="k">class</span> <span class="nc">TestClientRequestService</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="c1"># Client ì¸ìŠ¤í„´ìŠ¤
</span>
        <span class="n">User</span> <span class="o">=</span> <span class="n">get_user_model</span><span class="p">()</span>
        <span class="c1"># ìœ ì € ëª¨ë¸ ê°€ì ¸ì˜¤ê¸°
</span>        <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create_user</span><span class="p">(</span>
            <span class="n">username</span><span class="o">=</span><span class="s">'kimson'</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="s">'1234'</span>
        <span class="p">)</span>
        <span class="c1"># ìœ ì € ìƒì„±
</span>    
    <span class="k">def</span> <span class="nf">test_login_user_request_signin_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s">'kimson'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'1234'</span><span class="p">)</span>
        <span class="c1"># ë¡œê·¸ì¸
</span>        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s">'apps:index'</span><span class="p">))</span>
        <span class="c1"># apps:indexì— ëŒ€ì‘í•˜ëŠ” ì£¼ì†Œë¡œ getìš”ì²­ì„ ë³´ë‚¸ë‹¤
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="c1"># ì‘ë‹µ ì½”ë“œê°€ 200ì¸ê°€
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertTemplateUsed</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s">'apps/index.html'</span><span class="p">)</span>
        <span class="c1"># ì‘ë‹µ í˜ì´ì§€ê°€ apps/index.htmlì„ ì°¸ì¡°í•˜ê³  ìˆëŠ”ê°€
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertContains</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s">'index'</span><span class="p">)</span>
        <span class="c1"># ì‘ë‹µ ë‚´ìš©ì— "index"ë¼ëŠ” ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€
</span>    
    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="c1"># ë¡œê·¸ì•„ì›ƒ
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ í˜ì´ì§€ ì²˜ë¦¬ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤. í˜ì´ì§€ ìš”ì²­ í›„ ì‘ë‹µ ë‚´ìš©ì„ ë³´ê³  ì‹¶ìœ¼ì‹œë©´, <code class="language-plaintext highlighter-rouge">response.content</code>ë¡œ í™•ì¸í•˜ë©´ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ bytesì½”ë“œë¡œ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">response.content.decode('utf-8')</code>ë¡œ ë””ì½”ë“œ í•´ì•¼ ì •ìƒì ìœ¼ë¡œ ë³´ì´ê²Œ ë©ë‹ˆë‹¤.</p>

<p>ì´ì™¸ì—ë„ ë¡œê·¸ì¸ì„ ìš”êµ¬í•˜ëŠ” í˜ì´ì§€ ì ‘ê·¼ ì‹œ <code class="language-plaintext highlighter-rouge">redirect</code>ë˜ëŠ”ì§€ í™•ì¸ í•˜ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="c1"># myapp/tests.py
</span><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth</span> <span class="kn">import</span> <span class="n">get_user_model</span>

<span class="k">class</span> <span class="nc">TestClientRequestService</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="s">"""
    ì°¸ê³ ë¡œ DBê°€ ì¡´ì¬í•´ì•¼ ëª¨ë¸ ìƒì„±ì´ ë©ë‹ˆë‹¤. DB ì—†ì´ í•˜ëŠ” ë°©ë²•ì´ ì¡´ì¬ëŠ” í•˜ì§€ë§Œ ì €ëŠ” DBë¥¼ ìƒì„±í•˜ê³  í–ˆìŠµë‹ˆë‹¤.
    """</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="c1"># Client ì¸ìŠ¤í„´ìŠ¤
</span>
        <span class="n">User</span> <span class="o">=</span> <span class="n">get_user_model</span><span class="p">()</span>
        <span class="c1"># ìœ ì € ëª¨ë¸ ê°€ì ¸ì˜¤ê¸°
</span>        <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create_user</span><span class="p">(</span>
            <span class="n">username</span><span class="o">=</span><span class="s">'kimson'</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="s">'1234'</span>
        <span class="p">)</span>
        <span class="c1"># ìœ ì € ìƒì„±
</span>    
    <span class="k">def</span> <span class="nf">test_redirect_if_non_members_visit_require_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s">'apps:login_require'</span><span class="p">))</span>
        <span class="c1"># apps:indexì— ëŒ€ì‘í•˜ëŠ” ì£¼ì†Œë¡œ getìš”ì²­ì„ ë³´ë‚¸ë‹¤
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">302</span><span class="p">)</span>
        <span class="c1"># ok
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertRedirects</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">expected_url</span><span class="o">=</span><span class="n">reverse</span><span class="p">(</span><span class="s">'apps:signin'</span><span class="p">),</span> <span class="n">status_code</span><span class="o">=</span><span class="mi">302</span><span class="p">)</span>
        <span class="c1"># ok : ë‹¤ì´ë ‰íŠ¸ ëœ ì˜ˆìƒ ê²½ë¡œê°€ apps:signinì¸ì§€ì™€ status codeê°€ 302ì¸ì§€ í™•ì¸
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertTemplateUsed</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s">'apps/index.html'</span><span class="p">)</span>
        <span class="c1"># FAIL : 302ëŠ” ì°¸ì¡°í•˜ëŠ” í…œí”Œë¦¿ì´ ì—†ë‹¤ê³  ëœ¬ë‹¤. ì´ìœ ë¥¼ ì•„ì§ ëª¨ë¥¸ë‹¤.
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">assertContains</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="s">'index'</span><span class="p">)</span>
        <span class="c1"># FAIL : ìœ„ì˜ í…œí”Œë¦¿ failê³¼ ì—°ê´€ìˆëŠ” ë“¯ í•˜ë‹¤.
</span>    
    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="c1"># ë¡œê·¸ì•„ì›ƒ
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>ìœ„ ë‚´ìš©ì„ ì‘ì„±í•˜ë‹¤ë³´ë‹ˆ <code class="language-plaintext highlighter-rouge">jestjs</code>ëŠ” <code class="language-plaintext highlighter-rouge">html</code>ë¡œ ì»¤ë²„ë¦¬ì§€ë¥¼ ì‘ì„±í•´ì£¼ë˜ê²Œ ìƒê°ë‚˜ì„œ ì°¾ì•„ë³´ë‹ˆ <code class="language-plaintext highlighter-rouge">django</code>ë„ ì§€ì›í•œë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ìŠµë‹ˆë‹¤!</p>

<h2 id="testcode-coverage">testcode coverage</h2>

<p>coverageë¥¼ ì‚¬ìš©í•˜ê¸°ì— ì•ì„œ ì„¤ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>pip <span class="nb">install </span>coverage
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">.coveragerc</code> ë¼ëŠ” íŒŒì¼ì„ í”„ë¡œì íŠ¸í´ë” ë°”ë¡œ í•˜ìœ„ì— ìƒì„±í•˜ê³  ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ì•¼í•©ë‹ˆë‹¤. ì¦‰, <code class="language-plaintext highlighter-rouge">manage.py</code>ì™€ ê°™ì€ ê²½ë¡œë¥¼ ë§í•©ë‹ˆë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>[run]
include = `í…ŒìŠ¤íŠ¸ í¬í•¨í•  ê²½ë¡œ`
omit = `í…ŒìŠ¤íŠ¸ ì œì™¸í•  ê²½ë¡œ`
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì»¤ë©˜ë“œë¼ì¸ìœ¼ë¡œ ì‘ì„±í•˜ì‹ ë‹¤ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>vi .coveragerc

<span class="o">[</span>run]
include <span class="o">=</span>
omit <span class="o">=</span>
<span class="o">(</span>esc<span class="o">)</span>
:wq
<span class="o">(</span>enter<span class="o">)</span>
<span class="nt">-----</span>

ì €ëŠ” includeì™€ omit ë‘˜ ë‹¤ ë¹„ì›Œë‘ê³  ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

ì‹¤í–‰ì€ ì•„ë˜ì™€ ê°™ì´ í•©ë‹ˆë‹¤.

<span class="sb">```</span>bash
<span class="nv">$ </span>coverage run manage.py <span class="nb">test</span>
<span class="c"># or</span>
<span class="nv">$ </span>coverage run <span class="nt">--source</span><span class="o">=</span><span class="s1">'.'</span> manage.py <span class="nb">test </span>app
</pre></td></tr></tbody></table></code></pre></div></div>

<p>í…ŒìŠ¤íŠ¸ í›„ ê²°ê³¼ë¥¼ í™•ì¸ í•  ë•ŒëŠ” ì»¤ë©˜ë“œë¼ì¸ì— ì¶œë ¥ë˜ëŠ” ë°©ì‹ê³¼ html, xml ë“±ë“±ì˜ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤. ì»¤ë©˜ë“œë¼ì¸ê³¼ html ë‘ê°€ì§€ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ë°©ì‹ì€ <a href="https://coverage.readthedocs.io/en/6.3.2/">coverage.py</a>ì˜ documentsë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>coverage report <span class="c"># ì»¤ë©˜ë“œë¼ì¸ ì¶œë ¥</span>
<span class="nv">$ </span>coverage html <span class="c"># ì»¤ë²„ë¦¬ì§€ë¥¼ html íŒŒì¼ ìƒì„±</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ìƒì„±ëœ <code class="language-plaintext highlighter-rouge">html</code>ì€ <code class="language-plaintext highlighter-rouge">manage.py</code>ì™€ ê°™ì€ ê²½ë¡œì— <code class="language-plaintext highlighter-rouge">htmlcov</code>ë””ë ‰í† ë¦¬ê°€ ìƒì„±ë©ë‹ˆë‹¤. ê·¸ ì•ˆì— <code class="language-plaintext highlighter-rouge">index.html</code>ì„ ì‹¤í–‰í•˜ì‹œë©´ ì˜ ì •ë¦¬ëœ ì»¤ë²„ë¦¬ì§€ë¥¼ í˜ì´ì§€ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<hr />

<p>ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©</p>

<p><a href="https://velog.io/@qlgks1/Django-Test-unit-test-user-test-coverage" target="_blank">nuungë‹˜::Django Test - unit test, user test, coverage</a></p>

<p><a href="https://stackoverflow.com/questions/2705235/django-test-failing-on-a-view-with-login-required" target="_blank">Stackoverflow::Django: test failing on a view with @login_required</a></p>

<p><a href="https://docs.djangoproject.com/en/4.0/topics/db/queries/#updating-multiple-objects-at-once" target="_blank">Django::Making queries-Updating multiple objects at once</a></p>

<p><a href="https://docs.djangoproject.com/en/4.0/topics/testing/tools/#overview-and-a-quick-example" target="_blank">Django::Testing tools-Overview and a quick example</a></p>

<p><a href="https://schoolofweb.net/blog/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0-decorator/" target="_blank">schoolofweb::íŒŒì´ì¬ â€“ ë°ì½”ë ˆì´í„° (Decorator)</a></p>

<p><a href="https://stackoverflow.com/questions/55062157/how-to-prevent-user-to-access-login-page-in-django-when-already-logged-in" target="_blank">Stackoverflow::How to prevent user to access login page in django when already logged in?</a></p>

<p><a href="https://velog.io/@swhan9404/django%EC%9D%98-%EB%8B%A8%EC%9C%84%ED%85%8C%EC%8A%A4%ED%8A%B8tests.py" target="_blank">swhan9404ë‹˜::djangoì˜ ë‹¨ìœ„í…ŒìŠ¤íŠ¸(tests.py)</a></p>

<p><a href="https://codechacha.com/ko/python-convert-bytes-to-string/" target="_blank">codechacha.com::bytesë¥¼ Stringìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•</a></p>

<p><a href="https://docs.djangoproject.com/en/4.0/ref/settings/#login-url" target="_blank">Django::Settings-LOGIN_URL</a></p>
:ET