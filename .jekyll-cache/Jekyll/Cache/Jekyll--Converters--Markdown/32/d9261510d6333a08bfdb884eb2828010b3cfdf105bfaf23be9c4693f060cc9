I"<h1 id="ë§ˆìš°ìŠ¤-ì´ë™-ë°©í–¥-ê°ì§€">ë§ˆìš°ìŠ¤ ì´ë™ ë°©í–¥ ê°ì§€</h1>

<p>ì–¼ë§ˆ ì „ ì·¨ì—…í™œë™ ì¤‘ ëª¨ íšŒì‚¬ì˜ í¬íŠ¸í´ë¦¬ì˜¤ í˜ì´ì§€ì—ì„œ ì‹ ê¸°í•œ íš¨ê³¼ë¥¼ ë³´ê³  ë”°ë¼í•´ë³´ë ¤ í•©ë‹ˆë‹¤.</p>

<p>ê° í¬íŠ¸í´ë¦¬ì˜¤ê°€ ì¹´ë“œí˜•ì‹ìœ¼ë¡œ í‘œì‹œë˜ê³  ì¹´ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ë§ˆìš°ìŠ¤ê°€ ë“¤ì–´ì˜¨ ë°©í–¥ìœ¼ë¡œ ë°˜íˆ¬ëª…ì˜ ì»¤ë²„ê°€ ë®íˆê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ê³ ë‚˜ì„œ ë°°ê²½ ìƒ‰ì´ ì´ë¯¸ì§€ì˜ ìƒ‰ìƒê³¼ ë™ì¼í•˜ê²Œ ë³€ê²½ë©ë‹ˆë‹¤.</p>

<p>ê·¸ë˜ì„œ êµ¬í˜„ í•  ê¸°ëŠ¥ì„ ì •ë¦¬í•˜ë©´</p>

<ol>
  <li>ë§ˆìš°ìŠ¤ ë°©í–¥ ê°ì§€</li>
  <li>ë§ˆìš°ìŠ¤ê°€ ë“¤ì–´ì˜¨ ë°©í–¥ì— ë”°ë¼ ë®íˆëŠ” ì»¤ë²„</li>
  <li>ì´ë¯¸ì§€ ìƒ‰ìƒ íŒë³„í•˜ì—¬ ë°°ê²½ ìƒ‰ ë³€ê²½</li>
</ol>

<p>3ê°€ì§€ ì…ë‹ˆë‹¤.</p>

<h2 id="ì´ë™-ë°©í–¥ì„-ê°ì§€í•´ë³´ì">ì´ë™ ë°©í–¥ì„ ê°ì§€í•´ë³´ì</h2>

<p>ì˜ˆì „ì— ìŠ¤í¬ë¡¤ë¡œ ìœ„ì•„ë˜ë¥¼ ê°ì§€í•˜ëŠ” ë°©ë²•ì„ í¬ìŠ¤íŒ… í–ˆì—ˆëŠ”ë°ìš”. ê·¸ê²ƒê³¼ ê°™ì€ ì‹ìœ¼ë¡œ ì¡ì•„ë‚´ë ¤í•©ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ ë°©í–¥ì´ ê¶ê¸ˆí•˜ì‹œë©´ <a href="https://kkn1125.github.io/javascript-detecting-scroll-direction/" target="_blank">ìŠ¤í¬ë¡¤ ë°©í–¥ ê°ì§€</a>ë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card mx-3"</span> <span class="na">style=</span><span class="s">"width: 15rem;"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;div&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"img-fluid"</span> <span class="na">src=</span><span class="s">"cover01.jpg"</span> <span class="na">alt=</span><span class="s">"test"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"d-flex justify-content-between card-title px-3 pt-3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"h3"</span><span class="nt">&gt;</span>Title Of Card<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;span&gt;</span>ğŸ™‹â€â™‚ï¸<span class="nt">&lt;/span&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-body"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"card-text"</span><span class="nt">&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Non veniam
			doloremque
			praesentium
			reprehenderit? Fugit quaerat nam error perferendis, ipsam sed.<span class="nt">&lt;/p&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-footer"</span><span class="nt">&gt;</span>
		kimson
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>í…ŒìŠ¤íŠ¸ìš© ì¹´ë“œì…ë‹ˆë‹¤. bootstrap 5.0.2ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">over</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ë§ˆìš°ìŠ¤ê°€ ë“¤ì–´ì™”ëŠ”ì§€ ì²´í¬</span>
<span class="kd">let</span> <span class="nx">beforeX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ë§ˆìš°ìŠ¤ê°€ ì´ì „ì— ìˆë˜ Xì¢Œí‘œ ìœ„ì¹˜</span>
<span class="kd">let</span> <span class="nx">beforeY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// ë§ˆìš°ìŠ¤ê°€ ì´ì „ì— ìˆë˜ Yì¢Œí‘œ ìœ„ì¹˜</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>3ê°€ì§€ ë³€ìˆ˜ë¡œ ì¹´ë“œì— ë§ˆìš°ìŠ¤ê°€ ë“¤ì–´ì™”ëŠ”ì§€, ì–´ëŠ ë°©í–¥ì¸ì§€ ì»¨íŠ¸ë¡¤í•˜ê² ìŠµë‹ˆë‹¤.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="kd">let</span> <span class="nx">movementHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">ev</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span> <span class="c1">// ì›€ì§ì„ ê°ì§€</span>
	<span class="kd">let</span> <span class="nx">target</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="dl">"</span><span class="s2">card</span><span class="dl">"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">over</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
        <span class="kd">let</span> <span class="nx">rgb</span><span class="p">;</span>
		<span class="kd">let</span> <span class="nx">curX</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">screenX</span><span class="p">;</span>
		<span class="kd">let</span> <span class="nx">curY</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">screenY</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">img</span><span class="dl">"</span><span class="p">)){</span>
            <span class="c1">// íƒ€ê²Ÿì— ì´ë¯¸ì§€íƒœê·¸ê°€ ìˆìœ¼ë©´ ë°°ê²½ìƒ‰ì„ ë°”ê¾¸ëŠ” í•¨ìˆ˜ ì‹¤í–‰</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">curX</span><span class="o">&gt;</span><span class="nx">beforeX</span> <span class="o">&amp;&amp;</span> <span class="nx">curY</span><span class="o">==</span><span class="nx">beforeY</span><span class="p">){</span>
            <span class="c1">// ì¢Œì—ì„œ ìš°ë¡œ</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">curX</span><span class="o">==</span><span class="nx">beforeX</span> <span class="o">&amp;&amp;</span> <span class="nx">curY</span><span class="o">&gt;</span><span class="nx">beforeY</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// ìƒì—ì„œ í•˜ë¡œ</span>
            
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">curX</span><span class="o">&lt;</span><span class="nx">beforeX</span> <span class="o">&amp;&amp;</span> <span class="nx">curY</span><span class="o">==</span><span class="nx">beforeY</span><span class="p">){</span>
            <span class="c1">// ìš°ì—ì„œ ì¢Œë¡œ</span>
            
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">curX</span><span class="o">==</span><span class="nx">beforeX</span> <span class="o">&amp;&amp;</span> <span class="nx">curY</span><span class="o">&lt;</span><span class="nx">beforeY</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// í•˜ì—ì„œ ìƒìœ¼ë¡œ</span>
        <span class="p">}</span>
        <span class="nx">beforeX</span> <span class="o">=</span> <span class="nx">curX</span><span class="p">;</span>
        <span class="nx">beforeY</span> <span class="o">=</span> <span class="nx">curY</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">target</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="dl">"</span><span class="s2">card</span><span class="dl">"</span><span class="p">)){</span>
        <span class="nx">over</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">fadeCover</span> <span class="o">=</span> <span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">direction</span><span class="p">,</span> <span class="nx">rgb</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
	<span class="kd">let</span> <span class="nx">origin</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.cover</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">origin</span><span class="p">){</span> <span class="c1">// ì»¤ë²„ ì´ˆê¸°í™”</span>
        <span class="nx">origin</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="kd">let</span> <span class="nx">cover</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">div</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">cover</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">"</span><span class="s2">cover</span><span class="dl">"</span><span class="p">,</span> <span class="nx">direction</span><span class="p">);</span>
    <span class="nx">cover</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">`rgb(</span><span class="p">${</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">r</span><span class="p">}</span><span class="s2">, </span><span class="p">${</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">g</span><span class="p">}</span><span class="s2">, </span><span class="p">${</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">b</span><span class="p">}</span><span class="s2">, 0.5)`</span><span class="p">;</span>
    <span class="nx">target</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">cover</span><span class="p">);</span>
    <span class="nx">over</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì—¬ê¸°ì„œ <code class="language-plaintext highlighter-rouge">cover</code>í´ë˜ìŠ¤ì™€ <code class="language-plaintext highlighter-rouge">direction</code>ì¸ìë¥¼ ë°›ì•„ ë„£ëŠ”ë° <code class="language-plaintext highlighter-rouge">direction</code>ì€ ë¯¸ë¦¬ cssì—ì„œ ì„¤ì •í•œ ë‚´ìš©ìœ¼ë¡œ ë°©í–¥ì— ë”°ë¼ ë®ëŠ” ë°©í–¥ì„ ê²°ì •í•˜ë ¤í•©ë‹ˆë‹¤.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
</pre></td><td class="rouge-code"><pre><span class="nt">body</span><span class="p">{</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">1s</span><span class="p">;</span>
    <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">1s</span><span class="p">;</span>
    <span class="nl">-moz-transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">1s</span><span class="p">;</span>
    <span class="nl">-ms-transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">1s</span><span class="p">;</span>
    <span class="nl">-o-transition</span><span class="p">:</span> <span class="n">background-color</span> <span class="m">1s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">h1</span><span class="o">,</span>
<span class="nt">h2</span><span class="o">,</span>
<span class="nt">h3</span><span class="o">,</span>
<span class="nt">h4</span><span class="o">,</span>
<span class="nt">h5</span><span class="o">,</span>
<span class="nt">h6</span> <span class="p">{</span>
    <span class="nl">text-transform</span><span class="p">:</span> <span class="nb">capitalize</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.card</span><span class="nd">::after</span><span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.cover</span><span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0.5</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.cover.start</span><span class="o">,</span>
<span class="nc">.cover.end</span><span class="p">{</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">startEnd</span> <span class="m">.5s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="nb">both</span><span class="p">;</span>
    <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">startEnd</span> <span class="m">.5s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="nb">both</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.cover.end</span><span class="p">{</span>
    <span class="nl">right</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.cover.top</span><span class="o">,</span>
<span class="nc">.cover.bottom</span><span class="p">{</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">topBottom</span> <span class="m">0.5s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="nb">both</span><span class="p">;</span>
    <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">topBottom</span> <span class="m">0.5s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="nb">both</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.cover.bottom</span><span class="p">{</span>
    <span class="nl">bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">startEnd</span><span class="p">{</span>
    <span class="err">0</span><span class="o">%</span><span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">0%</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="err">100</span><span class="o">%</span><span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">@keyframes</span> <span class="n">topBottom</span><span class="p">{</span>
    <span class="err">0</span><span class="o">%</span><span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">0%</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="err">100</span><span class="o">%</span><span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">keyframes</code>ë¥¼ ì¨ì„œ ìƒí•˜, ì¢Œìš° ë‘ ë¬¶ìŒìœ¼ë¡œ í•œ ì´ìœ ëŠ” ì„œë¡œ ë°©í–¥ë§Œ ë°˜ëŒ€ì´ê¸° ë•Œë¬¸ì— ë‘ê°€ì§€ë§Œ ì„¤ì •í•˜ì˜€ê³ , ìš°ì¸¡ì—ì„œì™€ ì•„ë˜ì¸¡ì—ì„œ ì»¤ë²„ê°€ ëŠ˜ì–´ë‚˜ëŠ” ë°©í–¥ì„ ì£¼ê¸°ìœ„í•´ <code class="language-plaintext highlighter-rouge">end</code>, <code class="language-plaintext highlighter-rouge">bottom</code>ì€ <code class="language-plaintext highlighter-rouge">right</code>ì™€ <code class="language-plaintext highlighter-rouge">bottom</code>ê°’ì„ <code class="language-plaintext highlighter-rouge">0</code>ìœ¼ë¡œ ë”°ë¡œ ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>

<p>ê·¸ë¦¬ê³  ë¬¸ì œì˜ ì´ë¯¸ì§€ ìƒ‰ìƒì„ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ëŠ” <code class="language-plaintext highlighter-rouge">stackoverflow</code>ì˜ í˜ì„ ë¹Œë ¤ ì•„ì§ ì™„ì „íˆ ì´í•´í•˜ì§€ ëª»í–ˆì§€ë§Œ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.</p>

<p>ê¸€ ì•„ë˜ì— ì½”ë“œì™€ ì¶œì²˜ê°€ ìˆìœ¼ë‹ˆ ì°¸ê³ ë°”ëë‹ˆë‹¤.</p>

<p>ë§ˆìš°ìŠ¤ ë°©í–¥ ê°ì§€ê°€ ì•„ì§ ì •í™•í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ëŒ€ê°ì„ ìœ¼ë¡œ í•˜ë©´ ê° ë°©í–¥ ì¤‘ í•˜ë‚˜ë¡œ ëœë¤í•´ì§€ëŠ” ë¶€ë¶„ì€ ìˆ˜ì •í•˜ì—¬ ë‹¤ì‹œ ë³´ì™„í•˜ë ¤ í•©ë‹ˆë‹¤.</p>

<p>í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ì•„ë˜ ì¹´ë“œë¥¼ ë‘ê² ìŠµë‹ˆë‹¤.</p>

<hr />

<style>
.card::after{
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    display: block;
}

.cover{
    position: absolute;
    background-color: rgba(0,0,0,0.5);
}

.cover.start,
.cover.end{
    animation: startEnd .5s cubic-bezier(1,0,0,1) both;
    -webkit-animation: startEnd .5s cubic-bezier(1,0,0,1) both;
}
.cover.end{
    right: 0;
}
.cover.top,
.cover.bottom{
    animation: topBottom 0.5s cubic-bezier(1,0,0,1) both;
    -webkit-animation: topBottom 0.5s cubic-bezier(1,0,0,1) both;
}
.cover.bottom{
    bottom: 0;
}

@keyframes startEnd{
    0%{
        width: 0%;
        height: 100%;
    }
    100%{
        width: 100%;
        height: 100%;
    }
}
@keyframes topBottom{
    0%{
        width: 100%;
        height: 0%;
    }
    100%{
        width: 100%;
        height: 100%;
    }
}
</style>

<div>
	<div class="card mx-3" style="width: 15rem;">
		<div>
			<img class="img-fluid" src="cover01.jpg" alt="test" />
		</div>
		<div class="d-flex justify-content-between card-title px-3 pt-3">
			<div class="h3">Title Of Card</div>
			<span>ğŸ™‹â€â™‚ï¸</span>
		</div>
		<div class="card-body">
			<p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Non veniam
				doloremque
				praesentium
				reprehenderit? Fugit quaerat nam error perferendis, ipsam sed.</p>
		</div>
		<div class="card-footer">
			kimson
		</div>
	</div>
</div>

<script type="text/javascript">
let over = 0;
let beforeX = 0;
let beforeY = 0;

let fadeCover = (target, direction, rgb)=>{
    let origin = document.querySelector(".cover");
    if(origin){
        origin.remove();
    }
    let cover = document.createElement("div");
    cover.classList.add("cover", direction);
    cover.style.backgroundColor = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.5)`;
    target.append(cover);
    over = 1;
}

let movementHandler = (ev)=>{
    let target = ev.target;
    
    if(target.classList.contains("card") && over==0){
        let rgb;
        if(target.querySelector("img")){
            rgb = getAverageRGB(target.querySelector("img"));
            document.body.style.backgroundColor = 'rgb('+rgb.r+','+rgb.g+','+rgb.b+')';
        }
        if(ev.screenX>beforeX && ev.screenY==beforeY){
            // console.log("ì˜¤");
            fadeCover(target, "start", rgb);
        } else if (ev.screenX==beforeX && ev.screenY>beforeY) {
            // console.log("ì•„");
            fadeCover(target, "top", rgb);
            
        } else if(ev.screenX<beforeX && ev.screenY==beforeY){
            // console.log("ì™¼");
            fadeCover(target, "end", rgb);
            
        } else if(ev.screenX==beforeX && ev.screenY<beforeY) {
            // console.log("ìœ„");
            fadeCover(target, "bottom", rgb);
        }
        beforeX = ev.screenX;
        beforeY = ev.screenY;
    } else if(!target.classList.contains("card")){
        over = 0;
		document.body.style.backgroundColor = 
    }
}

window.addEventListener("mousemove", movementHandler);

function getAverageRGB(imgEl) {

    var blockSize = 5, // only visit every 5 pixels
        defaultRGB = {r:0,g:0,b:0}, // for non-supporting envs
        canvas = document.createElement('canvas'),
        context = canvas.getContext && canvas.getContext('2d'),
        data, width, height,
        i = -4,
        length,
        rgb = {r:0,g:0,b:0},
        count = 0;
    if (!context) {
        return defaultRGB;
    }
    height = canvas.height = imgEl.naturalHeight;
	// \|| imgEl.offsetHeight \|| imgEl.height;
    width = canvas.width = imgEl.naturalWidth;
	// \|| imgEl.offsetWidth \|| imgEl.width;
    context.drawImage(imgEl, 0, 0);
    try {
        data = context.getImageData(0, 0, width, height);
    } catch(e) {
        /* security error, img on diff domain */
        return defaultRGB;
    }

    length = data.data.length;

    while ( (i += blockSize * 4) < length ) {
        ++count;
        rgb.r += data.data[i];
        rgb.g += data.data[i+1];
        rgb.b += data.data[i+2];
    }

    // ~~ used to floor values
    rgb.r = ~~(rgb.r/count);
    rgb.g = ~~(rgb.g/count);
    rgb.b = ~~(rgb.b/count);

    return rgb;

}
</script>

<hr />

<blockquote>
  <p><a href="https://stackoverflow.com/questions/2541481/get-average-color-of-image-via-javascript" target="_blank">stackoverflow :: Get average color of image via Javascript</a></p>
</blockquote>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">getAverageRGB</span><span class="p">(</span><span class="nx">imgEl</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">blockSize</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="c1">// only visit every 5 pixels</span>
        <span class="nx">defaultRGB</span> <span class="o">=</span> <span class="p">{</span><span class="na">r</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">g</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">b</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="c1">// for non-supporting envs</span>
        <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">canvas</span><span class="dl">'</span><span class="p">),</span>
        <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span> <span class="o">&amp;&amp;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="dl">'</span><span class="s1">2d</span><span class="dl">'</span><span class="p">),</span>
        <span class="nx">data</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span>
        <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span>
        <span class="nx">length</span><span class="p">,</span>
        <span class="nx">rgb</span> <span class="o">=</span> <span class="p">{</span><span class="na">r</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">g</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="na">b</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span>
        <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">defaultRGB</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">height</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">imgEl</span><span class="p">.</span><span class="nx">naturalHeight</span> <span class="o">||</span> <span class="nx">imgEl</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">||</span> <span class="nx">imgEl</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
    <span class="nx">width</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">imgEl</span><span class="p">.</span><span class="nx">naturalWidth</span> <span class="o">||</span> <span class="nx">imgEl</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">||</span> <span class="nx">imgEl</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>

    <span class="nx">context</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">imgEl</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">data</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">getImageData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* security error, img on diff domain */</span>
        <span class="k">return</span> <span class="nx">defaultRGB</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">length</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+=</span> <span class="nx">blockSize</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
        <span class="o">++</span><span class="nx">count</span><span class="p">;</span>
        <span class="nx">rgb</span><span class="p">.</span><span class="nx">r</span> <span class="o">+=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="nx">rgb</span><span class="p">.</span><span class="nx">g</span> <span class="o">+=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
        <span class="nx">rgb</span><span class="p">.</span><span class="nx">b</span> <span class="o">+=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">2</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="c1">// ~~ used to floor values</span>
    <span class="nx">rgb</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="o">~~</span><span class="p">(</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">r</span><span class="o">/</span><span class="nx">count</span><span class="p">);</span>
    <span class="nx">rgb</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="o">~~</span><span class="p">(</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">g</span><span class="o">/</span><span class="nx">count</span><span class="p">);</span>
    <span class="nx">rgb</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="o">~~</span><span class="p">(</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">b</span><span class="o">/</span><span class="nx">count</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">rgb</span><span class="p">;</span>

<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
:ET