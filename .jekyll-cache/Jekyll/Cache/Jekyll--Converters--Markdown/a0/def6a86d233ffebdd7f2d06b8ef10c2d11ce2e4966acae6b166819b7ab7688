I"r]<h1 id="form-valid">form valid</h1>

<blockquote>
  <p>ì´ í¬ìŠ¤íŒ…ì€ ì°¸ê³ ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— ì •í™•í•œ ë‚´ìš©ì€ ê³µì‹ í™ˆí˜ì´ì§€ì˜ docsì™€ referenceë¥¼ ì°¸ê³ í•˜ëŠ” ê²ƒì„ ì ê·¹ ê¶Œì¥í•©ë‹ˆë‹¤.</p>
</blockquote>

<h2 id="form-valid-ì œì–´">form valid ì œì–´</h2>

<p>ì²˜ìŒ <code class="language-plaintext highlighter-rouge">ModelForm</code>ì„ ì ‘í–ˆì„ ë•ŒëŠ” ë¬´ìŠ¨ ê°œë…ì¸ì§€ì¡°ì°¨ ëª°ëëŠ”ë° í˜„ì¬ëŠ” <code class="language-plaintext highlighter-rouge">ModelForm</code>ì´ ì•„ë‹ˆë©´ ë”ì°í•˜ë‹¤ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤. ê²½ìš°ì— ë”°ë¼ formì—ì„œ fieldë¥¼ ë”°ë¡œ ë–¼ì–´ ì—ëŸ¬ì²˜ë¦¬ í•˜ëŠ” ë“±ì˜ ì‘ì—…ì´ í•„ìš”í•˜ê² ì§€ë§Œ ì§€ê¸ˆì€ ì—°ìŠµ ë‹¨ê³„ì´ë‹ˆ field ë³„ ì œì–´í•˜ëŠ” ë‚´ìš©ì€ ë‹¤ìŒì— ë‹¤ë£¨ì–´ ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.</p>

<h3 id="ì„¤ì •">ì„¤ì •</h3>

<p>í…ŒìŠ¤íŠ¸ í•  ë‚´ìš©ì€ ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ê³  ModelFormì„ ì‚¬ìš©í•´ì„œ ê¸°ë³¸ì ì¸ ìœ íš¨ì„± ê²€ì‚¬ì™€ boostrap5ë¥¼ ì—°ê²°í•œ ìœ íš¨ì„±ê²€ì‚¬ ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  add_errorë¡œ ì¶”ê°€ì ì¸ ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•ì„ ê¸°ë¡í•˜ë ¤í•˜ëŠ”ë° cleaned_dataëŠ” ModelFormì„ ì‚¬ìš©í•œë‹¤ë©´ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ ë‹¤ìŒì— ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>

<h4 id="formsformê³¼-modelform-ì°¨ì´">forms.Formê³¼ ModelForm ì°¨ì´</h4>

<p>ì´ë²ˆ í¬ìŠ¤íŒ…ì— ë‹¤ë£¨ì§€ëŠ” ì•Šì§€ë§Œ ì°¨ì´ì ì„ ì§šê³  ë„˜ì–´ê°ˆ í•„ìš”ê°€ ìˆì„ ê²ƒ ê°™ì•„ ì°¨ì´ì ì„ ì´ì•¼ê¸°í•˜ê² ìŠµë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">ModelForm</code>ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° <code class="language-plaintext highlighter-rouge">cleaned_data</code>ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. í•´ë‹¹ <code class="language-plaintext highlighter-rouge">dict</code>ë¥¼ ì‚¬ìš©í•  ë•Œ <code class="language-plaintext highlighter-rouge">form.save()</code>ì²˜ëŸ¼ ì´ë¯¸ ì¼ì¹˜í•˜ê³  ì •ë¦¬ëœ ë°ì´í„°ê°€ ì €ì¥ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<p>í•˜ì§€ë§Œ <code class="language-plaintext highlighter-rouge">forms.Form</code>ì˜ ê²½ìš° <code class="language-plaintext highlighter-rouge">cleanded_data</code>ë¥¼ í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ ìœ„ì¹˜ì— ìˆ˜ë™ìœ¼ë¡œ ì¼ì¹˜ì‹œì¼œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ì‹œì¼œì•¼ í•©ë‹ˆë‹¤.</p>

<h5 id="formsform">forms.Form</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1"># Form
</span><span class="k">if</span> <span class="n">form</span><span class="p">.</span><span class="n">is_valid</span><span class="p">():</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">()</span>
    <span class="n">user</span><span class="p">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">form</span><span class="p">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span>
    <span class="n">user</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h5 id="modelform">ModelForm</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c1"># ModelForm
</span><span class="k">if</span> <span class="n">form</span><span class="p">.</span><span class="n">is_valid</span><span class="p">():</span>
    <span class="n">form</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ì‚¬ìš©">ì‚¬ìš©</h3>

<p>ì˜ˆì‹œë˜ëŠ” Userë¼ëŠ” ModelFormê³¼ Modelì„ ë§Œë“­ë‹ˆë‹¤. ë¨¼ì € <code class="language-plaintext highlighter-rouge">forms.py</code>ë¥¼ ë§Œë“¤ê³ </p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1"># forms.py
</span>
<span class="kn">from</span> <span class="nn">django.forms</span> <span class="kn">import</span> <span class="n">ModelForm</span><span class="p">,</span> <span class="n">PasswordInput</span><span class="c1">#, ValidationError
</span><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">User</span>

<span class="k">class</span> <span class="nc">SignForm</span><span class="p">(</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">User</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">'username'</span><span class="p">,</span> <span class="s">'password'</span>
        <span class="p">]</span>
        <span class="n">widgets</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">'password'</span><span class="p">:</span> <span class="n">PasswordInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'type'</span><span class="p">:</span> <span class="s">'password'</span><span class="p">})</span>
        <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>models.pyë„ ì„¤ì •í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1"># models.py
</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">AutoField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">views.py</code>ì—ì„œ <code class="language-plaintext highlighter-rouge">signin</code>ì´ë¼ í•˜ê³  ì„¤ì •í•©ë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">urls.py</code> ì„¤ì •ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">rest_framework.decorators</span> <span class="kn">import</span> <span class="n">api_view</span>
<span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span>
<span class="kn">from</span> <span class="nn">.forms</span> <span class="kn">import</span> <span class="n">SignForm</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">User</span>

<span class="c1"># ...
</span><span class="o">@</span><span class="n">api_view</span><span class="p">([</span><span class="s">'GET'</span><span class="p">,</span> <span class="s">'POST'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">signin</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">POST</span>
        <span class="n">sign_form</span> <span class="o">=</span> <span class="n">SignForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sign_form</span><span class="p">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="s">""" forms.Formì„ ì‚¬ìš©í•  ë•Œ
            sign_form = SignForm()
            username = sign_form.cleaned_data['username']
            password = sign_form.cleaned_data['password']
            """</span>
            <span class="n">username</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span>
            <span class="n">password</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'password'</span><span class="p">]</span>

            <span class="k">if</span> <span class="s">' '</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">username</span><span class="p">:</span>
                <span class="n">sign_form</span><span class="p">.</span><span class="n">add_error</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span> <span class="s">'ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.'</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">):</span>
                    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">user</span><span class="p">.</span><span class="n">password</span> <span class="o">==</span> <span class="n">password</span><span class="p">:</span>
                        <span class="n">session_user</span> <span class="o">=</span> <span class="p">{}</span>
                        <span class="n">session_user</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span> <span class="o">=</span> <span class="n">username</span>
                        <span class="n">session_user</span><span class="p">[</span><span class="s">'password'</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>
                        <span class="n">request</span><span class="p">.</span><span class="n">session</span><span class="p">[</span><span class="s">'user'</span><span class="p">]</span> <span class="o">=</span> <span class="n">session_user</span>
                        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'/signin?error=1'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sign_form</span> <span class="o">=</span> <span class="n">SignForm</span><span class="p">()</span>
        
    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'signForm'</span><span class="p">:</span> <span class="n">sign_form</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'todo/signin.html'</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote class="blockquote blockquote-info">
  <p>ì˜ ì•ˆë˜ì‹ ë‹¤ë©´ ì´ê²ƒë§Œ ì£¼ì˜í•˜ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤. <code class="language-plaintext highlighter-rouge">sign_form</code>ì„ <code class="language-plaintext highlighter-rouge">if .. else</code>ë¬¸ ë°–ì—ì„œ <code class="language-plaintext highlighter-rouge">context</code>ë¡œ ë°›ì•„ <code class="language-plaintext highlighter-rouge">render</code>ë¡œ ë³´ë‚´ê³  ìˆìŠµë‹ˆë‹¤.<br />
ìœ„ì˜ ì½”ë“œì—ì„œ ìœ„ì¹˜ë¥¼ ë³´ì‹œë©´ ì•„ì‹œê² ì§€ë§Œ <code class="language-plaintext highlighter-rouge">sign_form</code>ì„ <code class="language-plaintext highlighter-rouge">is_valid</code>í•œ ì´í›„ì— ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">sign_form</code>ì„ ì¬ì •ì˜í•˜ë©´ ë‹¹ì—°íˆ <strong>ìœ íš¨ì„± ê²€ì‚¬í•œ ê²°ê³¼ë¥¼ ì œëŒ€ë¡œ ì „ë‹¬í•˜ì§€ ëª»í•©ë‹ˆë‹¤</strong>.</p>
</blockquote>

<p>ê·¸ ë‹¤ìŒ <code class="language-plaintext highlighter-rouge">template</code>ì„ ì‘ì„±í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre>{% extends './layout.html' %}
{% load bootstrap5 %}
{% block content %}
<span class="nt">&lt;h1&gt;</span>Sign in<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"{% url 'signin' %}"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">novalidate</span><span class="nt">&gt;</span>
        {% if request.GET.error %}
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span><span class="nt">&gt;</span>
                ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”
            <span class="nt">&lt;/div&gt;</span>
        {% endif %}
        {% if signForm.errors %}
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"alert alert-danger"</span><span class="nt">&gt;</span>
            {% for field in signForm %}
            {% if field.errors %}
            {{field.label}}
            {{field.errors}}
            {% endif %}
            {% endfor %}
        <span class="nt">&lt;/div&gt;</span>
        {% endif %}
        <span class="nt">&lt;div&gt;</span>
            {{ signForm.as_p }}
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn btn-info"</span><span class="nt">&gt;</span>sign in<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endblock %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">request.GET.error</code>ëŠ” ìœ íš¨ì„±ê²€ì‚¬ê°€ ì•„ë‹Œ dbì˜ ë°ì´í„°ì™€ ë§¤ì¹˜ê°€ ë˜ì§€ ì•Šê³  <code class="language-plaintext highlighter-rouge">error</code>ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•˜ì„ ë•Œ ë‚˜íƒ€ë‚˜ê²Œí•˜ëŠ” ë¬¸êµ¬ì…ë‹ˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">signForm.errors</code>ëŠ” formì˜ ìœ íš¨ì„± ê²€ì‚¬ê°€ ëë‚˜ê³  ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ signFormì— errorsë¥¼ ë°›ì•„ì™€ ifë¬¸ì— ê±¸ë¦¬ê³  ë°‘ì— ì‘ì„±í•œ ë‚´ìš©ë“¤ì„ ì¶œë ¥í•©ë‹ˆë‹¤.</p>

<p>ì•„ë˜ì™€ ê°™ì´ ìœ íš¨ì„±ê²€ì‚¬ì™€ ë°ì´í„° ë¯¸ìŠ¤ë§¤ì¹˜ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì†ì‰½ê²Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì´ë©”ì¼ í˜•ì‹ì´ í‹€ë¦´ ë•Œ</p>

<figure class="text-center">
<span class="w-inline-block">
   <img src="/assets/images/post/django/modelform01.png" alt="sample" title="sample" />
   <figcaption>ìœ íš¨ì„± ê²€ì‚¬</figcaption>
</span>
</figure>

<p>í•„ë“œê°€ ë¹„ì—ˆì„ ë•Œ</p>

<figure class="text-center">
<span class="w-inline-block">
   <img src="/assets/images/post/django/modelform03.png" alt="sample" title="sample" />
   <figcaption>ë¹ˆ í•„ë“œ</figcaption>
</span>
</figure>

<p>ì¼ì¹˜í•˜ëŠ” ë°ì´í„°ê°€ ì—†ì„ ë•Œ</p>

<figure class="text-center">
<span class="w-inline-block">
   <img src="/assets/images/post/django/modelform02.png" alt="sample" title="sample" />
   <figcaption>ë¯¸ìŠ¤ë§¤ì¹˜</figcaption>
</span>
</figure>

<h2 id="bootstrap-validë¡œ-ë³€ê²½">bootstrap validë¡œ ë³€ê²½</h2>

<p><code class="language-plaintext highlighter-rouge">boostrap</code>ì€ <code class="language-plaintext highlighter-rouge">pip</code>ë¡œ ë¨¼ì € <code class="language-plaintext highlighter-rouge">install</code>í•˜ê³  <code class="language-plaintext highlighter-rouge">installed_apps</code>ì— ì¶”ê°€í•´ì£¼ê³  ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. ì‚¬ìš©ë²•ì€ êµ¬ê¸€ ê²€ìƒ‰ìœ¼ë¡œ ë°©ëŒ€í•œ ì–‘ì˜ ë‚´ìš©ì´ ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ì‹œê¸°ë¥¼.</p>

<p>ì„¤ì¹˜ëŠ” <a href="https://pypi.org/project/django-bootstrap-v5/" target="_blank">ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>{% load bootstrap5 %}
{% bootstrap_form signForm %}
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ê¸°ë³¸ formì—ì„œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì—ëŸ¬ëŠ” formì˜ fieldë§ˆë‹¤ ìë™ìœ¼ë¡œ ë¶™ìŠµë‹ˆë‹¤. fieldë³„ë¡œ ë”°ë¡œ ì‘ì—… ê°€ëŠ¥í•˜ë©°, errorë˜í•œ ë³„ë„ë¡œ ì œì–´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>

<p>fieldë¥¼ ë”°ë¡œë”°ë¡œ ì„¤ì •í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ <a href="https://docs.djangoproject.com/en/4.0/topics/forms/#rendering-fields-manually">ì—¬ê¸°</a>ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ë©ë‹ˆë‹¤. djangoprojectí˜ì´ì§€ ì´ê³  formê´€ë ¨í•œ ë‚´ìš©ì´ ì•„ì£¼ ì˜ ì •ë¦¬ë˜ì–´ ìˆì–´ ì˜ì•Œëª»ì´ì–´ë„ ì‰½ê²Œ ì°¸ê³  ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>

<h2 id="add_error">add_error</h2>

<p>add_errorëŠ” ìœ„ì˜ ì½”ë“œ ì¤‘ì—ì„œ ì ì‹œ ë‚˜ì™”ëŠ”ë°ìš”. ì•„ì§ ì–´ë–»ê²Œ í™œìš©í•˜ëŠ”ì§€ ëª…í™•í•˜ê²ŒëŠ” ëª¨ë¦…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë” ê³µë¶€í•˜ë©´ì„œ ì œëŒ€ë¡œëœ ëª©ì ìœ¼ë¡œ ë‹¤ì‹œ ì •ë¦¬í•˜ê³ ì í•˜ë‹ˆ ì§€ê¸ˆì€ ëŒ€ì¶© ì´ëŸ¬í•˜ê²Œ ì“°ì¸ë‹¤ ì •ë„ë¡œë§Œ ì •ë¦¬í•˜ë ¤í•©ë‹ˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c1"># views.py ì½”ë“œ ì¼ë¶€
</span><span class="k">if</span> <span class="n">sign_form</span><span class="p">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="s">""" forms.Formì„ ì‚¬ìš©í•  ë•Œ
            sign_form = SignForm()
            username = sign_form.cleaned_data['username']
            password = sign_form.cleaned_data['password']
            """</span>
            <span class="n">username</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'username'</span><span class="p">]</span>
            <span class="n">password</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'password'</span><span class="p">]</span>

            <span class="k">if</span> <span class="s">' '</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">username</span><span class="p">:</span>
                <span class="n">sign_form</span><span class="p">.</span><span class="n">add_error</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span> <span class="s">'ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">views.py</code>ì˜ ì½”ë“œ ì¼ë¶€ì¸ë°ìš”. ë§¨ ì•„ë˜ <code class="language-plaintext highlighter-rouge">if</code>ë¬¸ì„ ë³´ì‹œë©´ <code class="language-plaintext highlighter-rouge">add_error</code>ë¼ í•˜ê³  <code class="language-plaintext highlighter-rouge">field</code>ëª…ê³¼ <code class="language-plaintext highlighter-rouge">error</code>ë©”ì„¸ì§€ë¥¼ ì§€ì •í•´ì„œ ì¶”ê°€í•˜ëŠ” ëª¨ìŠµì…ë‹ˆë‹¤.</p>

<p>ë¶„ê¸°ë¬¸ì„ í†µí•´ ê¸°ì¡´ì— ìˆëŠ” <code class="language-plaintext highlighter-rouge">is_valid</code>ì˜ ê¸°ì¤€ë§Œì´ ì•„ë‹Œ ì‚¬ìš©ìì˜ ëª©ì ì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">if</code>ë¬¸ìœ¼ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ëª©ë¡ì„ ë” ì¶”ê°€ ê°€ëŠ¥í•œ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë§¥ë½ìœ¼ë¡œ ë´¤ì„ ë•Œ <code class="language-plaintext highlighter-rouge">add_error</code>í•œ ì‹œì ë¶€í„° <code class="language-plaintext highlighter-rouge">form</code>ì˜ ì—ëŸ¬ í•­ëª©ì´ ì¶”ê°€ë˜ê³  <code class="language-plaintext highlighter-rouge">valid</code>ë˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>

<blockquote class="blockquote blockquote-info">
  <p>ì´ëŠ” ì§ì‘ì´ê³  ì¶”ì¸¡ì´ë‹ˆ ë” ìì„¸í•œ ê²ƒì€ í•´ë‹¹ í•¨ìˆ˜ì˜ ë‚´ìš©ì„ ë” ì•Œì•„ë³´ê³  í•´ë‹¹ í¬ìŠ¤íŒ…ì„ ìˆ˜ì •í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
</blockquote>

<hr />

<p>ğŸ“š í•¨ê»˜ ë³´ë©´ ì¢‹ì€ ë‚´ìš©</p>

<p><a href="https://docs.djangoproject.com/en/4.0/topics/forms/#more-about-django-form-classes" target="_blank">Django Documentation :: form</a></p>

<p><a href="https://docs.djangoproject.com/es/2.1/ref/forms/fields/#required" target="_blank">Django Documentation :: Form fields v2.1</a></p>

<p><a href="https://docs.djangoproject.com/en/2.0/ref/forms/validation/" target="_blank">Django Documentation :: form v2.0</a></p>

<p><a href="https://stackoverflow.com/questions/53594745/what-is-the-use-of-cleaned-data-in-django" target="_blank">Stackoverflow :: What is the use of cleaned_data in Django</a></p>

<p><a href="https://stackoverflow.com/questions/16205908/django-modelform-not-required-field" target="_blank">Stackoverflow :: Django modelform NOT required field</a></p>

<p><a href="https://velog.io/@swhan9404/Django-Form" target="_blank">swhan9404ë‹˜ :: Django Form</a></p>

<p><a href="https://junlab.tistory.com/193" target="_blank">Junlabë‹˜ :: í¼ í™œìš©ì´ í¸í•œ django í¼ ì‚¬ìš©ë²• (formì´ë€ ë¬´ì—‡ì¸ê°€ìš”?)</a></p>

<p><a href="https://jinmay.github.io/2019/11/13/django/django-form-is-valid-mechanism-brief/" target="_blank">Jinmayë‹˜ :: [Form]ì˜ì‹ì˜ íë¦„ëŒ€ë¡œ ì •ë¦¬í•˜ëŠ” ì¥ê³  Form</a></p>

<p><a href="https://niceit.tistory.com/395" target="_blank">ë‚­ë§Œì˜¨ë‹¬ë‹˜ :: [Django] HTML í…œí”Œë¦¿ë‚´ì—ì„œ Form Classì˜ is_validí˜¸ì¶œì‹œ ì˜¤ë¥˜ë¥¼ ë°›ì•„ ì²˜ë¦¬í•˜ê¸°</a></p>
:ET